(function(e){function t(t){for(var o,a,c=t[0],s=t[1],l=t[2],u=0,h=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],o=!0,c=1;c<r.length;c++){var s=r[c];0!==n[s]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var o={},n={app:0},i=[];function a(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=o,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/td/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=s;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"0577":function(e,t,r){var o=r("24fb");t=o(!1),t.push([e.i,"*[data-v-7d279aa2]{color:#000}",""]),e.exports=t},"0f35":function(e,t,r){var o=r("24fb");t=o(!1),t.push([e.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#fff}#nav{padding:10px;margin-bottom:5px;border-bottom:1px solid #000}#nav a{font-weight:700;color:#fff}#nav a.router-link-exact-active{color:#42b983}",""]),e.exports=t},"12f5":function(e,t,r){var o=r("36b1");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=r("499e").default;n("a8b0e1e0",o,!0,{sourceMap:!1,shadowMode:!1})},"36b1":function(e,t,r){var o=r("24fb");t=o(!1),t.push([e.i,'.hex[data-v-5c79b623]:before{content:"\\2B22";display:flex;margin-top:-35px;margin-left:-5px;transform:rotate(-29deg)}',""]),e.exports=t},"37b0":function(e,t,r){var o=r("24fb");t=o(!1),t.push([e.i,':root{--sniper:#c66;--sniper-focus:#bf4040;--ballista:#6d66cc;--ballista-focus:#4840bf;--laser:#cc66c7;--laser-focus:#bf40b9;--canonship:#724a1d;--canonship-focus:#523514;--bank:#c66;--bank-focus:#bf4040;--freezer:#c66;--freezer-focus:#bf4040;--path:#cca866;--path-focus:#bf9340;--grass:#66cc80;--grass-focus:#40bf60;--water:#66a7cc;--water-focus:#4090bf;--hill:#94cc66;--hill-focus:#79bf40;--forest:#39793e;--forest-focus:#29572d;--general:#3b3b3b;--button:#3b3b3b;--button-darker:#666;--button-darkest:#1a1a1a}#game{background-image:url(/td/bgbig.gif);background-position:0 -500px}.offsetRow:nth-child(odd){margin-top:18px}.hex{position:relative;width:20px;height:34px;margin:2px 6px;box-shadow:4px 7px 40px 0 rgba(0,0,0,.88)}.hex.path{background-color:var(--path)}.hex.path:after,.hex.path:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.path:after{right:100%;border-right:10px solid var(--path)}.hex.path:before{left:100%;border-left:10px solid var(--path)}.hex.path:focus{background-color:var(--path-focus)}.hex.path:focus:after{right:100%;border-right:10px solid var(--path-focus)}.hex.path:focus:before{left:100%;border-left:10px solid var(--path-focus)}.hex.grass{background-color:var(--grass)}.hex.grass:after,.hex.grass:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.grass:after{right:100%;border-right:10px solid var(--grass)}.hex.grass:before{left:100%;border-left:10px solid var(--grass)}.hex.grass:focus{background-color:var(--grass-focus)}.hex.grass:focus:after{right:100%;border-right:10px solid var(--grass-focus)}.hex.grass:focus:before{left:100%;border-left:10px solid var(--grass-focus)}.hex.hill{background-color:var(--hill)}.hex.hill:after,.hex.hill:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.hill:after{right:100%;border-right:10px solid var(--hill)}.hex.hill:before{left:100%;border-left:10px solid var(--hill)}.hex.hill:focus{background-color:var(--hill-focus)}.hex.hill:focus:after{right:100%;border-right:10px solid var(--hill-focus)}.hex.hill:focus:before{left:100%;border-left:10px solid var(--hill-focus)}.hex.water{background-color:var(--water)}.hex.water:after,.hex.water:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.water:after{right:100%;border-right:10px solid var(--water)}.hex.water:before{left:100%;border-left:10px solid var(--water)}.hex.water:focus{background-color:var(--water-focus)}.hex.water:focus:after{right:100%;border-right:10px solid var(--water-focus)}.hex.water:focus:before{left:100%;border-left:10px solid var(--water-focus)}.hex.forest{background-color:var(--forest)}.hex.forest:after,.hex.forest:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.forest:after{right:100%;border-right:10px solid var(--forest)}.hex.forest:before{left:100%;border-left:10px solid var(--forest)}.hex.forest:focus{background-color:var(--forest-focus)}.hex.forest:focus:after{right:100%;border-right:10px solid var(--forest-focus)}.hex.forest:focus:before{left:100%;border-left:10px solid var(--forest-focus)}.hex.sniper{background-color:var(--sniper)}.hex.sniper:after,.hex.sniper:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.sniper:after{right:100%;border-right:10px solid var(--sniper)}.hex.sniper:before{left:100%;border-left:10px solid var(--sniper)}.hex.sniper:focus{background-color:var(--sniper-focus)}.hex.sniper:focus:after{right:100%;border-right:10px solid var(--sniper-focus)}.hex.sniper:focus:before{left:100%;border-left:10px solid var(--sniper-focus)}.hex.laser{background-color:var(--laser)}.hex.laser:after,.hex.laser:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.laser:after{right:100%;border-right:10px solid var(--laser)}.hex.laser:before{left:100%;border-left:10px solid var(--laser)}.hex.laser:focus{background-color:var(--laser-focus)}.hex.laser:focus:after{right:100%;border-right:10px solid var(--laser-focus)}.hex.laser:focus:before{left:100%;border-left:10px solid var(--laser-focus)}.hex.canonship{background-color:var(--canonship)}.hex.canonship:after,.hex.canonship:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.canonship:after{right:100%;border-right:10px solid var(--canonship)}.hex.canonship:before{left:100%;border-left:10px solid var(--canonship)}.hex.canonship:focus{background-color:var(--canonship-focus)}.hex.canonship:focus:after{right:100%;border-right:10px solid var(--canonship-focus)}.hex.canonship:focus:before{left:100%;border-left:10px solid var(--canonship-focus)}.hex.ballista{background-color:var(--ballista)}.hex.ballista:after,.hex.ballista:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.ballista:after{right:100%;border-right:10px solid var(--ballista)}.hex.ballista:before{left:100%;border-left:10px solid var(--ballista)}.hex.ballista:focus{background-color:var(--ballista-focus)}.hex.ballista:focus:after{right:100%;border-right:10px solid var(--ballista-focus)}.hex.ballista:focus:before{left:100%;border-left:10px solid var(--ballista-focus)}.hex.bank{background-color:var(--bank)}.hex.bank:after,.hex.bank:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.bank:after{right:100%;border-right:10px solid var(--bank)}.hex.bank:before{left:100%;border-left:10px solid var(--bank)}.hex.bank:focus{background-color:var(--bank-focus)}.hex.bank:focus:after{right:100%;border-right:10px solid var(--bank-focus)}.hex.bank:focus:before{left:100%;border-left:10px solid var(--bank-focus)}.hex.freezer{background-color:var(--freezer)}.hex.freezer:after,.hex.freezer:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.freezer:after{right:100%;border-right:10px solid var(--freezer)}.hex.freezer:before{left:100%;border-left:10px solid var(--freezer)}.hex.freezer:focus{background-color:var(--freezer-focus)}.hex.freezer:focus:after{right:100%;border-right:10px solid var(--freezer-focus)}.hex.freezer:focus:before{left:100%;border-left:10px solid var(--freezer-focus)}.button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;position:relative;width:120px;height:34px;margin:2px 15px;background-color:var(--button);box-shadow:4px 7px 10px 0 rgba(0,0,0,.88);color:#fff!important}.button:hover{background-color:var(--button-darker)}.button:hover:before{left:100%;border-left:10px solid var(--button-darker)}.button:hover:after{right:100%;border-right:10px solid var(--button-darker)}.button:active{transform:scale(.9);background-color:var(--button-darkest)}.button:active:before{left:100%;border-left:10px solid var(--button-darkest)}.button:active:after{right:100%;border-right:10px solid var(--button-darkest)}.button:after,.button:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.button:before{left:100%;border-left:10px solid var(--button)}.button:after{right:100%;border-right:10px solid var(--button);top:0}.card{box-shadow:4px 7px 10px 0 rgba(0,0,0,.88);background-color:var(--general)!important;color:#fff!important}.card .card-header{box-shadow:inset 16px 22px 20px -14px hsla(0,0%,100%,.226)}.card .card-body{box-shadow:inset 16px 0 20px -14px hsla(0,0%,100%,.226)}',""]),e.exports=t},4249:function(e,t,r){var o=r("6218");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=r("499e").default;n("85cb6b30",o,!0,{sourceMap:!1,shadowMode:!1})},"457c":function(e,t,r){var o=r("bd6f");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=r("499e").default;n("4756a336",o,!0,{sourceMap:!1,shadowMode:!1})},"505e":function(e,t,r){"use strict";r("457c")},"5ef0":function(e,t,r){"use strict";r("af5d")},6218:function(e,t,r){var o=r("24fb");t=o(!1),t.push([e.i,".cardOption{color:#000!important;background-color:#fff!important}.cardOption :hover{color:#fff!important;background-color:#000!important}",""]),e.exports=t},a2d3:function(e,t,r){"use strict";r("12f5")},a66a:function(e,t,r){var o=r("0f35");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=r("499e").default;n("6ffe208d",o,!0,{sourceMap:!1,shadowMode:!1})},abe2:function(e,t,r){var o=r("37b0");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=r("499e").default;n("5d15161b",o,!0,{sourceMap:!1,shadowMode:!1})},af5d:function(e,t,r){var o=r("0577");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=r("499e").default;n("06fc3caf",o,!0,{sourceMap:!1,shadowMode:!1})},bd6f:function(e,t,r){var o=r("24fb");t=o(!1),t.push([e.i,"*[data-v-660cf77d]{font-family:Arial,Helvetica,sans-serif;color:#000}",""]),e.exports=t},bf04:function(e,t,r){"use strict";r("4249")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("7a23");function n(e,t){var r=Object(o["C"])("router-view");return Object(o["v"])(),Object(o["e"])(r)}r("ceab");var i=r("6b0d"),a=r.n(i);const c={},s=a()(c,[["render",n]]);var l=s,d=r("1da1"),u=(r("96cf"),r("d3b7"),r("6c02")),h=(r("e9c4"),r("a15b"),r("99af"),r("07ac"),r("b680"),r("4de4"),{id:"game",style:{height:"100vh",position:"relative"}}),b={class:"d-flex justify-content-center pt-2",style:{position:"relative",width:"100%"}},f=["disabled"],p=["disabled"],v=["disabled"],g={class:"mt-4"},O={class:"d-flex justify-content-center"},j=["onClick"],x=["id"],m=["points"],y=["cx","cy","r","stroke"],w=["id"],k={id:"polylineContainer",style:{position:"absolute",left:"0",top:"0","pointer-events":"none",width:"100%",height:"100%"}},P=["cx","cy","r","fill"],T=["points"],E=["points"],S={id:"playMenu",class:"card w-100 shadow-none",style:{position:"absolute",bottom:"0px"}},I={class:"card-body d-flex row col-12"},R={class:"col-1"},M={class:"m-4"},C=Object(o["h"])("i",{class:"fas fa-coins",style:{color:"rgb(214, 188, 38)"}},null,-1),H={class:"m-4"},F=Object(o["h"])("i",{class:"fas fa-heart",style:{color:"rgb(187, 19, 19)"}},null,-1),N={class:"m-4"},z=Object(o["h"])("i",{class:"fas fa-bullseye"},null,-1),_={class:"col-8"},W={id:"carouselExampleIndicators",class:"carousel slide","data-bs-ride":"carousel","data-bs-interval":"false"},B={style:{position:"fixed","margin-bottom":"0px",width:"51%"},class:"carousel-indicators"},L=Object(o["h"])("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"0",class:"active"},null,-1),V=["data-bs-slide-to"],K={class:"carousel-inner"},A={class:"carousel-item active"},J={class:"row col-12"},U=["onClick"],G={id:"shop"},q={class:"card text-dark"},D={class:"card card-header p-0"},$={class:"card card-body"},Y={class:"row"},X={class:"col-6 text-center p-0"},Q={class:"col-6 text-center p-0"},Z={class:"row"},ee={class:"col-6 text-center p-0"},te={class:"col-6 text-center p-0"},re={class:"carousel-item"},oe={class:"row col-12"},ne=["onClick"],ie={id:"shop"},ae={class:"card text-dark"},ce={class:"card card-header p-0"},se={class:"card card-body"},le={class:"row"},de={class:"col-6 text-center p-0"},ue={class:"col-6 text-center p-0"},he={class:"row"},be={class:"col-6 text-center p-0"},fe={class:"col-6 text-center p-0"},pe=Object(o["i"])('<button style="margin-left:-110px;" class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button style="margin-right:-90px;" class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),ve={class:"d-flex justify-content-center col-3"},ge={id:"towermenu"},Oe={key:0,class:"card text-dark"},je={class:"card card-header p-0"},xe={class:"card card-body pb-1"},me={class:"d-flex justify-content-between"},ye=Object(o["j"])(" sell Tower "),we={style:{color:"rgb(0, 230, 0)"}},ke=Object(o["h"])("i",{class:"fas fa-coins"},null,-1),Pe=Object(o["j"])(" upgrade Tower "),Te={style:{color:"rgb(255, 0, 21)"}},Ee=Object(o["h"])("i",{class:"fas fa-coins"},null,-1),Se={class:"row col-12"},Ie={class:"col-6"},Re={class:"col-6",style:{color:"rgb(0, 230, 0)"}},Me={class:"col-6"},Ce={class:"col-6",style:{color:"rgb(0, 230, 0)"}},He={class:"col-6"},Fe={class:"col-6",style:{color:"rgb(0, 230, 0)"}},Ne={key:0},ze={class:"d-flex justify-content-center"},_e=Object(o["j"])(" target: "),We=["value"];function Be(e,t,r,n,i,a){return Object(o["v"])(),Object(o["g"])("div",h,[Object(o["h"])("div",b,[Object(o["h"])("div",{class:"button",disabled:e.gameStarted,onClick:t[0]||(t[0]=function(t){return e.reset()})},"reset",8,f),Object(o["h"])("div",{class:"button",disabled:e.gameStarted,onClick:t[1]||(t[1]=function(t){return e.gameLoop()})},"step",8,p),Object(o["h"])("div",{class:"button",onClick:t[2]||(t[2]=function(t){return e.gameStarted=!e.gameStarted})},Object(o["E"])(e.gameStarted?"pause":"play"),1),Object(o["h"])("div",{class:"button",disabled:e.waveSpawn,onClick:t[3]||(t[3]=function(t){return e.waveSpawn=!0})},"Next Wave",8,v)]),Object(o["h"])("div",null,[Object(o["h"])("div",g,[Object(o["h"])("div",O,[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(e.field,(function(t,r){return Object(o["v"])(),Object(o["g"])("div",{class:"offsetRow",key:JSON.stringify(t)},[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(t,(function(t,n){var i,a,c,s,l;return Object(o["v"])(),Object(o["g"])("div",{key:t.indices.join("|"),onClick:Object(o["L"])((function(t){return e.selectedTileIndices=[r,n]}),["stop"])},[e.field[r][n].tower?(Object(o["v"])(),Object(o["g"])("div",{key:0,class:Object(o["q"])(["hex",null===(i=t.tower)||void 0===i?void 0:i.type]),id:r+"|"+n,tabindex:"0"},[(Object(o["v"])(),Object(o["e"])(o["b"],{to:"#polylineContainer"},[null!==(a=t.tower)&&void 0!==a&&a.target?(Object(o["v"])(),Object(o["g"])("polyline",{key:0,points:"".concat(e.getPosition(r,n).join(", ")," ").concat(null===(c=e.getEnemyPosition(t.tower.target))||void 0===c?void 0:c.join(", ")),fill:"none",stroke:"red"},null,8,m)):Object(o["f"])("",!0),e.selectedTileIndices&&e.selectedTileIndices[0]==r&&e.selectedTileIndices[1]==n?(Object(o["v"])(),Object(o["g"])("circle",{key:1,cx:e.getPosition(r,n)[0],cy:e.getPosition(r,n)[1],r:null===(s=t.tower)||void 0===s?void 0:s.range,fill:"rgba(255, 0, 30, 0.13)",stroke:null===(l=t.tower)||void 0===l?void 0:l.color},null,8,y)):Object(o["f"])("",!0)]))],10,x)):(Object(o["v"])(),Object(o["g"])("div",{key:1,class:Object(o["q"])(["hex",t.type]),id:r+"|"+n,tabindex:"0"},null,10,w))],8,j)})),128))])})),128))])]),(Object(o["v"])(),Object(o["g"])("svg",k,[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(e.enemies,(function(e){return Object(o["v"])(),Object(o["g"])("circle",{key:JSON.stringify(e),cx:e.cords[0],cy:e.cords[1],r:e.size/2,fill:e.color},null,8,P)})),128)),(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(e.enemies,(function(e){return Object(o["v"])(),Object(o["g"])("polyline",{key:JSON.stringify(e),points:"".concat(e.cords[0]-e.size-1,",").concat(e.cords[1]-e.size," ").concat(e.cords[0]+e.size+1,",").concat(e.cords[1]-e.size),fill:"none",stroke:"black","stroke-width":"5px"},null,8,T)})),128)),(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(e.enemies,(function(e){return Object(o["v"])(),Object(o["g"])("polyline",{key:JSON.stringify(e),points:"".concat(e.cords[0]-e.size,",").concat(e.cords[1]-e.size," ").concat(e.cords[0]-e.size+2*e.size*e.HP/e.maxHP,",").concat(e.cords[1]-e.size),fill:"none",stroke:"red","stroke-width":"3px"},null,8,E)})),128))]))]),Object(o["h"])("div",S,[Object(o["h"])("div",I,[Object(o["h"])("div",R,[Object(o["h"])("div",M,[Object(o["j"])(Object(o["E"])(Math.round(e.player.gold))+" ",1),C]),Object(o["h"])("div",H,[Object(o["j"])(Object(o["E"])(e.player.hp)+" ",1),F]),Object(o["h"])("div",N,[Object(o["j"])(Object(o["E"])(e.wave)+" ",1),z])]),Object(o["h"])("div",_,[Object(o["h"])("div",W,[Object(o["h"])("div",B,[L,(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(Math.ceil((Object.values(e.TOWER_OPTIONS).length-4)/4),(function(e){return Object(o["v"])(),Object(o["g"])("button",{key:JSON.stringify(e),type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":e},null,8,V)})),128))]),Object(o["h"])("div",K,[Object(o["h"])("div",A,[Object(o["h"])("div",J,[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(["sniper","ballista","laser","canonship"],(function(t){return Object(o["v"])(),Object(o["g"])("div",{key:t,class:"col-3"},[Object(o["h"])("div",{onClick:Object(o["L"])((function(r){return e.buildTower(e.selectedTileIndices,e.TOWER_OPTIONS[t])}),["stop"])},[Object(o["h"])("div",G,[Object(o["h"])("div",q,[Object(o["h"])("div",D,Object(o["E"])(e.TOWER_OPTIONS[t].type),1),Object(o["h"])("div",$,[Object(o["h"])("div",{class:Object(o["q"])(["hex mx-auto",e.TOWER_OPTIONS[t].type])},null,2),Object(o["h"])("div",null,"hotKey:"+Object(o["E"])(e.TOWER_OPTIONS[t].shortcut),1),Object(o["h"])("div",Y,[Object(o["h"])("div",X,"price:"+Object(o["E"])(e.TOWER_OPTIONS[t].price),1),Object(o["h"])("div",Q,"range:"+Object(o["E"])(e.TOWER_OPTIONS[t].range),1)]),Object(o["h"])("div",Z,[Object(o["h"])("div",ee,"attackspeed:"+Object(o["E"])(e.TOWER_OPTIONS[t].atkspeed),1),Object(o["h"])("div",te,"atk:"+Object(o["E"])(e.TOWER_OPTIONS[t].atk),1)])])])])],8,U)])})),128))])]),Object(o["h"])("div",re,[Object(o["h"])("div",oe,[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(["bank","freezer"],(function(t){return Object(o["v"])(),Object(o["g"])("div",{key:t,class:"col-3"},[Object(o["h"])("div",{onClick:Object(o["L"])((function(r){return e.buildTower(e.selectedTileIndices,e.TOWER_OPTIONS[t])}),["stop"])},[Object(o["h"])("div",ie,[Object(o["h"])("div",ae,[Object(o["h"])("div",ce,Object(o["E"])(e.TOWER_OPTIONS[t].type),1),Object(o["h"])("div",se,[Object(o["h"])("div",{class:Object(o["q"])(["hex mx-auto",e.TOWER_OPTIONS[t].type])},null,2),Object(o["h"])("div",null,"hotKey:"+Object(o["E"])(e.TOWER_OPTIONS[t].shortcut),1),Object(o["h"])("div",le,[Object(o["h"])("div",de,"price:"+Object(o["E"])(e.TOWER_OPTIONS[t].price),1),Object(o["h"])("div",ue,"range:"+Object(o["E"])(e.TOWER_OPTIONS[t].range),1)]),Object(o["h"])("div",he,[Object(o["h"])("div",be,"attackspeed:"+Object(o["E"])(e.TOWER_OPTIONS[t].atkspeed),1),Object(o["h"])("div",fe,"atk:"+Object(o["E"])(e.TOWER_OPTIONS[t].atk),1)])])])])],8,ne)])})),128))])])]),pe])]),Object(o["h"])("div",ve,[Object(o["h"])("div",ge,[e.selectedTower?(Object(o["v"])(),Object(o["g"])("div",Oe,[Object(o["h"])("div",je,Object(o["E"])(e.selectedTower.type),1),Object(o["h"])("div",xe,[Object(o["h"])("div",null,[Object(o["h"])("div",me,[Object(o["h"])("button",{class:"btn btn-danger w-50 me-2 d-flex justify-content-center",type:"button",onClick:t[4]||(t[4]=Object(o["L"])((function(t){return e.sell(e.selectedTower)}),["stop"]))},[ye,Object(o["h"])("div",we,[Object(o["j"])("  "+Object(o["E"])(Math.floor(e.selectedTower.totalValue/2))+" ",1),ke])]),Object(o["h"])("button",{class:"btn btn-success w-50 ms-2 d-flex justify-content-center",type:"button",onClick:t[5]||(t[5]=Object(o["L"])((function(t){return e.upgrade(e.selectedTower,.3*e.selectedTower.totalValue,1.04)}),["stop"]))},[Pe,Object(o["h"])("div",Te,[Object(o["j"])("  "+Object(o["E"])(Math.floor(.3*e.selectedTower.totalValue))+" ",1),Ee])])]),Object(o["h"])("div",Se,[Object(o["h"])("div",Ie,"dmg/atttack: "+Object(o["E"])(e.selectedTower.atk.toFixed(2)),1),Object(o["h"])("div",Re,"+"+Object(o["E"])((.04*e.selectedTower.atk).toFixed(2)),1),Object(o["h"])("div",Me,"attacks/s: "+Object(o["E"])(e.selectedTower.atkspeed.toFixed(2)),1),Object(o["h"])("div",Ce,"+"+Object(o["E"])((.04*e.selectedTower.atkspeed).toFixed(2)),1),Object(o["h"])("div",He,"range: "+Object(o["E"])(e.selectedTower.range.toFixed(2)),1),Object(o["h"])("div",Fe,"+"+Object(o["E"])((.04*e.selectedTower.range).toFixed(2)),1)]),e.selectedTower?(Object(o["v"])(),Object(o["g"])("div",Ne,[Object(o["h"])("div",null,"dmg dealt: "+Object(o["E"])(Math.floor(e.selectedTower.dmgDealt)),1),Object(o["h"])("div",ze,[_e,Object(o["h"])("div",{onClick:t[7]||(t[7]=Object(o["L"])((function(){}),["stop"]))},[Object(o["K"])(Object(o["h"])("select",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selectedTower.filter=t})},[(Object(o["v"])(),Object(o["g"])(o["a"],null,Object(o["B"])(["first","last","closest","mostHealthy","mostWounded","slowest","fastest"],(function(e){return Object(o["h"])("option",{key:e,value:e},Object(o["E"])(e),9,We)})),64))],512),[[o["G"],e.selectedTower.filter]])])])])):Object(o["f"])("",!0)])])])):Object(o["f"])("",!0)])])])])])}var Le=r("5530"),Ve=r("2909"),Ke=r("3835"),Ae=r("b85c");r("d81d"),r("0481"),r("4069"),r("159b"),r("c740"),r("7db0");function Je(e,t){return"number"==typeof t?[e[0]+t,e[1]+t]:[e[0]+t[0],e[1]+t[1]]}function Ue(e,t){return"number"==typeof t?[e[0]-t,e[1]-t]:[e[0]-t[0],e[1]-t[1]]}function Ge(e,t){return"number"==typeof t?[e[0]/t,e[1]/t]:[e[0]/t[0],e[1]/t[1]]}function qe(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function De(e){return Math.pow(e[0],2)+Math.pow(e[1],2)}var $e={sniper:{atk:30,range:300,atkspeed:1,price:25,totalValue:25,buildingFields:["forest","hill","grass"],color:"#FF0000",type:"sniper",shortcut:"1"},ballista:{atk:10,range:75,atkspeed:3,price:25,totalValue:25,buildingFields:["forest","hill","grass"],color:"#00FF00",type:"ballista",shortcut:"2"},laser:{atk:3,range:100,atkspeed:10,price:25,totalValue:25,buildingFields:["forest","hill","grass"],color:"#AA00FF",type:"laser",shortcut:"3"},canonship:{atk:15,range:150,atkspeed:2,price:25,totalValue:25,buildingFields:["water"],color:"#754c33",type:"canonship",shortcut:"4"},bank:{atk:0,range:0,atkspeed:0,price:100,totalValue:100,buildingFields:["grass"],color:"#754c33",type:"bank",shortcut:"5"},freezer:{atk:10,range:100,atkspeed:2,price:30,totalValue:30,buildingFields:["forest","hill","grass"],color:"#754c33",type:"freezer",shortcut:"6"}},Ye={hill:{atk:1,atkspeed:1,range:1.2},water:{atk:1,atkspeed:1,range:1},forest:{atk:1,atkspeed:.8,range:.9},grass:{atk:1,atkspeed:1,range:1}},Xe=Object(o["l"])({setup:function(){return{TOWER_OPTIONS:$e}},data:function(){return{player:{gold:100,hp:100},hexagonSize:50,fieldWidth:50,fieldHeight:18,field:[],counter:0,path:[],enemies:[],gameStarted:!1,gamelooptick:0,wave:1,waveSpawn:!0,spawned:0,selectedTileIndices:null,bonus:!1,shopSize:20,shopPosition:{left:0,top:0,position:[0,0]},pressedKeys:{}}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.createField();case 2:e.startGame(),document.addEventListener("keyup",(function(t){return"Space"==t.code&&(e.gameStarted=!e.gameStarted)})),document.getElementById("0|0").click();case 5:case"end":return t.stop()}}),t)})))()},computed:{selectedTile:function(){return this.selectedTileIndices?this.field[this.selectedTileIndices[0]][this.selectedTileIndices[1]]:null},towers:function(){return this.field.flat().filter((function(e){return e.tower})).map((function(e){return e.tower}))},selectedTower:function(){var e,t;return null!==(e=null===(t=this.selectedTile)||void 0===t?void 0:t.tower)&&void 0!==e?e:null},banks:function(){return this.towers.filter((function(e){return"bank"==e.type}))}},methods:{reset:function(){this.gameStarted=!1,this.gamelooptick=0,this.wave=0,this.player.gold=100,this.player.hp=100,this.field=[],this.enemies=[],this.path=[],this.createField()},createField:function(){this.field=[];for(var e=0;e<this.fieldWidth;e++){for(var t=[],r=0;r<this.fieldHeight;r++){var o=this.getRandomInt(50);0==o&&t.push({color:"#005000",type:"forest",indices:[e,r]}),1!=o&&2!=o||t.push({color:"#0000CC",type:"water",indices:[e,r]}),3!=o&&4!=o||t.push({color:"#754c00",type:"hill",indices:[e,r]}),o>4&&t.push({color:"#008000",type:"grass",indices:[e,r]})}this.field.push(t)}this.generatePath("basic")},generatePath:function(e){this.clearPath();var t=[0,this.getRandomInt(this.fieldHeight-1)],r=t[0],o=t[1];this.path=[],this.path.push(this.pathfield([r,o],!0,!1));var n=[];switch(e){case"basic":this.field[r][o]=this.pathfield([r,o],!0,!1);while(r<this.fieldWidth-2){switch(this.getRandomInt(2)){case 0:r%2==0&&o++,o==this.fieldHeight&&o--;break;case 1:r%2!=0&&o--,o<0&&o++;break}r++,this.field[r][o]=this.pathfield([r,o],!1,!1),this.path.push(this.pathfield([r,o],!1,!1))}this.field[r+1][o]=this.pathfield([r+1,o],!1,!0),this.path.push(this.pathfield([r+1,o],!1,!0));break;case"complex":this.field[r][o]=this.pathfield([r,o],!0,!1);while(r<this.fieldWidth-1){var i=[];n=this.findNeighbourFields(r,o,"grass");var a,c=Object(Ae["a"])(n);try{for(c.s();!(a=c.n()).done;){var s=a.value,l=s.indices,d=this.findNeighbourFields(l[0],l[1],"path");1==d.length&&i.push(s)}}catch(p){c.e(p)}finally{c.f()}if(0==i.length)break;var u=this.getRandomInt(i.length-1),h=i[u],b=h.indices;this.field[b[0]][b[1]]=this.pathfield(b,!1,!1),this.path.push(this.pathfield(b,!1,!1));var f=Object(Ke["a"])(b,2);r=f[0],o=f[1]}}},clearPath:function(){var e=this;this.path=[],this.field.forEach((function(t,r){return t.forEach((function(t,o){"path"==t.type&&(e.field[r][o]={indices:t.indices,type:"grass",color:"135, 50%, 60%"})}))}))},findNeighbourFields:function(e,t,r){var o=[{dir:"up",x:0,y:-1},{dir:"down",x:0,y:1},{dir:"upright",x:1,y:0},{dir:"downright",x:1,y:1},{dir:"upleft",x:-1,y:0},{dir:"downleft",x:-1,y:1}],n=[{dir:"up",x:0,y:-1},{dir:"down",x:0,y:1},{dir:"upright",x:1,y:-1},{dir:"downright",x:1,y:0},{dir:"upleft",x:-1,y:-1},{dir:"downleft",x:-1,y:0}],i=[];i=e%2==0?o:n;var a,c=[],s=Object(Ae["a"])(i);try{for(s.s();!(a=s.n()).done;){var l=a.value,d=e+l.x,u=t+l.y;d<0||u<0||d>this.fieldWidth-1||u>this.fieldHeight-1||this.field[d][u].type!=r||c.push(this.field[d][u])}}catch(h){s.e(h)}finally{s.f()}return c},testSetup:function(){this.clearPath(),this.wave=100;for(var e=0,t=0;t<this.wave;t++)e+=10*Math.pow(t,.5)*t;this.player.gold=e;for(var r=0;r<this.fieldWidth;r++)this.field[r][7]=this.pathfield([r,7],!1,!1),this.path.push(this.pathfield([r,7],!1,!1));for(var o=0;o<this.fieldWidth;o++)this.buildTower([o,8],$e["laser"]);for(var n=0;n<this.fieldWidth;n++)this.buildTower([n,6],$e["laser"])},startGame:function(){var e=this;window.onkeyup=function(t){e.pressedKeys[t.key]=!1},window.onkeydown=function(t){e.pressedKeys[t.key]=!0},setInterval((function(){e.gameStarted&&e.gameLoop(),e.selectedTile&&e.building()}),1e3/60)},gameLoop:function(){this.gamelooptick++,this.checkEntities(),this.movement(),this.towerAction(),this.spawnWave()},spawnWave:function(){if(this.waveSpawn){var e=Math.floor(5*Math.pow(this.wave,.5));if(this.gamelooptick%(60/Math.pow(this.wave,.5))<1)switch(this.getRandomInt(2)){case 0:this.createEnemy("blue"),this.spawned++;break;case 1:this.createEnemy("yellow"),this.spawned+=1.5;break}e<=this.spawned&&(this.waveSpawn=!1,this.spawned=0)}},building:function(){var e;if(void 0==(null===(e=this.selectedTile)||void 0===e?void 0:e.tower))for(var t=0,r=Object.values($e);t<r.length;t++){var o=r[t];this.pressedKeys[o.shortcut]&&this.buildTower(this.selectedTileIndices,o)}},movement:function(){this.moveEnemy()},checkEntities:function(){this.checkEnemyLife()},towerAction:function(){var e,t=this,r=Object(Ae["a"])(this.towers.filter((function(e){return t.gamelooptick%(60/e.atkspeed)<1})));try{for(r.s();!(e=r.n()).done;){var o=e.value;this.getTowerTarget(o),this.towerAttack(o)}}catch(n){r.e(n)}finally{r.f()}},createEnemy:function(e){switch(e){case"blue":var t=75*Math.pow(this.wave,.5),r={cords:this.getPosition.apply(this,Object(Ve["a"])(this.path[0].indices)),id:JSON.stringify(Math.random()),maxHP:t,HP:t,size:16,nextPathNumber:1,baseSpeed:1.5,speed:1.5,distanceTravelled:0,color:"blue",slowduration:0};this.enemies.push(r);break;case"yellow":var o=150*Math.pow(this.wave,.5),n={cords:this.getPosition.apply(this,Object(Ve["a"])(this.path[0].indices)),id:JSON.stringify(Math.random()),maxHP:o,HP:o,size:16,nextPathNumber:1,baseSpeed:.8,speed:.8,distanceTravelled:0,color:"yellow",slowduration:0};this.enemies.push(n);break}},checkEnemyLife:function(){this.player.gold+=this.enemies.filter((function(e){return e.HP<=0})).reduce((function(e,t){return e+t.maxHP/10}),0),this.enemies=this.enemies.filter((function(e){return e.HP>0})),0==this.enemies.length&&(this.waveSpawn||(this.wave++,this.waveSpawn=!0,this.bankBonus()))},moveEnemy:function(){var e,t=Object(Ae["a"])(this.enemies);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.nextPathNumber<this.path.length){var o=this.getPosition.apply(this,Object(Ve["a"])(this.path[r.nextPathNumber].indices)),n=Ue(o,r.cords);r.slowduration>0?(r.slowduration--,r.speed=.4*r.baseSpeed):r.speed=r.baseSpeed,r.cords=Je(r.cords,Ge(n,qe(n)/r.speed)),r.distanceTravelled+=qe(Ge(n,qe(n)/r.speed)),De(Ue(r.cords,o))<Math.pow(r.speed,2)&&r.nextPathNumber++}else this.survivedEnemy(r)}}catch(i){t.e(i)}finally{t.f()}},survivedEnemy:function(e){this.player.hp--,this.enemies=this.enemies.filter((function(t){return t!==e}))},bankBonus:function(){var e;if(null!==(e=this.banks)&&void 0!==e&&e.length){var t,r=Object(Ae["a"])(this.banks);try{for(r.s();!(t=r.n()).done;){t.value;var o=0;o=.01*this.player.gold,o>100&&(o=100),this.player.gold+=o,console.log(o)}}catch(n){r.e(n)}finally{r.f()}}},buildTower:function(e,t){if(t&&!(this.player.gold-$e[t.type].price<0)){var r=Ye[this.field[e[0]][e[1]].type],o=this.tower([e[0],e[1]],t);o.atk*=r.atk,o.atkspeed*=r.atkspeed,o.range*=r.range,this.field[e[0]][e[1]].tower=o,this.player.gold-=o.price}},sell:function(e){this.player.gold+=Math.floor(e.totalValue/2),this.field[e.indices[0]][e.indices[1]].tower=void 0},upgrade:function(e,t,r){if(!(this.player.gold-t<0)){for(var o=0,n=["atk","atkspeed","range"];o<n.length;o++){var i=n[o];e[i]*=r}e.level++,e.totalValue+=t,this.player.gold-=t}},tower:function(e,t){return Object(Le["a"])(Object(Le["a"])({},$e[t.type]),{},{indices:e,target:null,filter:"first",level:1,dmgDealt:0})},getTowerTarget:function(e){var t,r,o,n=document.getElementById("".concat(e.indices[0],"|").concat(e.indices[1])).getBoundingClientRect(),i=null,a=this.middlePointRect(n),c=Object(Ae["a"])(this.enemies.filter((function(e){return e.HP>0})));try{for(c.s();!(o=c.n()).done;){var s=o.value,l=Ue(s.cords,s.size/2);if(De(Ue(a,l))<Math.pow(e.range,2))switch(e.filter){default:case"first":(null==i||s.distanceTravelled>i.distanceTravelled)&&(i=s);break;case"last":(null==i||s.distanceTravelled<i.distanceTravelled)&&(i=s);break;case"closest":(null==i||De(Ue(a,l))<De(Ue(a,Ue(i.cords,i.size/2))))&&(i=s);break;case"mostHealthy":(null==i||s.HP>i.HP)&&(i=s);break;case"mostWounded":(null==i||s.HP<i.HP)&&(i=s);break;case"slowest":(null==i||s.speed<i.speed)&&(i=s);break;case"fastest":(null==i||s.speed>i.speed)&&(i=s);break}}}catch(d){c.e(d)}finally{c.f()}this.field[e.indices[0]][e.indices[1]].tower.target=null!==(t=null===(r=i)||void 0===r?void 0:r.id)&&void 0!==t?t:null},towerAttack:function(e){var t=this.enemies.findIndex((function(t){return t.id==e.target}));-1!=t&&(this.enemies[t].HP-=e.atk,e.dmgDealt+=e.atk,"freezer"==e.type&&(this.enemies[t].slowduration+=45),this.enemies[t].HP<0&&(this.enemies[t].HP=0))},getPosition:function(e,t){var r=document.getElementById("".concat(e,"|").concat(t)).getBoundingClientRect();return this.middlePointRect(r)},getEnemyPosition:function(e){var t=this.enemies.find((function(t){return t.id==e}));if(t)return t.cords},checkPrice:function(e){return e<=this.player.gold&&(this.player.gold-=e,!0)},pathfield:function(e,t,r){return{color:"39, 50%, 60%",type:"path",indices:e,start:t,finish:r}},middlePointRect:function(e){return[e.left+.5*e.width,e.top+.5*e.height]},getRandomInt:function(e){return Math.floor(Math.random()*e)}}});const Qe=a()(Xe,[["render",Be]]);var Ze=Qe,et=function(e){return Object(o["y"])("data-v-5c79b623"),e=e(),Object(o["w"])(),e},tt={class:"d-flex mx-5 justify-content-around"},rt=Object(o["j"])(" gold: "),ot=Object(o["j"])(" FieldWidth: "),nt=Object(o["j"])(" FieldHeight: "),it=Object(o["j"])(" MinPathLength: "),at=["max"],ct=et((function(){return Object(o["h"])("button",{class:"btn btn-success ms-1",type:"submit"},"save map",-1)})),st={class:"row col-12"},lt=Object(o["i"])('<div class="d-flex flex-column mt-5 p-0" style="width:7%;" data-v-5c79b623><ul style="list-style-type:none;" class="ms-4 p-0" data-v-5c79b623><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:#555555;" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>Path</p></li><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:green;" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>grass</p></li><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:blue;" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>Water</p></li><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:rgb(117, 76, 0);" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>Hill</p></li><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:black;" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>Fill</p></li><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:black;" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>Fill</p></li></ul></div>',1),dt={class:"d-flex mt-5",style:{width:"93%"}},ut=["id","onClick"],ht={key:0},bt=["onClick"],ft={id:"shop"},pt={class:"card w-100 text-dark"},vt={class:"card card-header"},gt=et((function(){return Object(o["h"])("div",{class:"card card-body"},null,-1)}));function Ot(e,t,r,n,i,a){var c=Object(o["C"])("Navbar");return Object(o["v"])(),Object(o["g"])(o["a"],null,[Object(o["k"])(c),Object(o["h"])("div",{onClick:t[13]||(t[13]=function(t){return e.shopShow=!1}),class:"flex-1",style:{height:"100vh"}},[Object(o["h"])("div",tt,[Object(o["h"])("div",null,[rt,Object(o["K"])(Object(o["h"])("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.player.gold=t})},null,512),[[o["H"],e.player.gold]])]),Object(o["h"])("div",null,[ot,Object(o["K"])(Object(o["h"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.fieldWidth=t}),max:"50",min:"3",onChange:t[2]||(t[2]=function(t){return e.renderField("clear")})},null,544),[[o["H"],e.fieldWidth]])]),Object(o["h"])("div",null,[nt,Object(o["K"])(Object(o["h"])("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.fieldHeight=t}),max:"20",min:"3",onChange:t[4]||(t[4]=function(t){return e.renderField("clear")})},null,544),[[o["H"],e.fieldHeight]])]),Object(o["h"])("div",null,[it,Object(o["K"])(Object(o["h"])("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.pathLength=t}),max:e.fieldHeight*e.fieldWidth/3,min:"0",onChange:t[6]||(t[6]=function(t){return e.generatePath("complex")})},null,40,at),[[o["H"],e.pathLength]])]),Object(o["h"])("button",{class:"btn btn-info mb-1 ms-2",type:"button",onClick:t[7]||(t[7]=Object(o["L"])((function(t){return e.generatePath("basic")}),["stop"]))},"Auto generate basic path"),Object(o["h"])("button",{class:"btn btn-info mb-1 ms-2",type:"button",onClick:t[8]||(t[8]=Object(o["L"])((function(t){return e.generatePath("complex")}),["stop"]))},"Auto generate complex path"),Object(o["h"])("button",{class:"btn btn-info mb-1 ms-2",onClick:t[9]||(t[9]=Object(o["L"])((function(t){return e.renderField("clear")}),["stop"]))},"clear"),Object(o["h"])("button",{class:"btn btn-info mb-1 ms-2",onClick:t[10]||(t[10]=Object(o["L"])((function(t){return e.renderField("pathClear")}),["stop"]))},"pathClear"),Object(o["h"])("form",{onSubmit:t[12]||(t[12]=Object(o["L"])((function(t){return e.saveMap()}),["prevent"]))},[Object(o["K"])(Object(o["h"])("input",{type:"text",required:"","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.mapName=t}),placeholder:"mapName"},null,512),[[o["H"],e.mapName]]),ct],32)]),Object(o["h"])("div",st,[lt,Object(o["h"])("div",dt,[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(e.field,(function(t,r){return Object(o["v"])(),Object(o["g"])("div",{key:JSON.stringify(t),style:Object(o["r"])({marginTop:r%2==0?"".concat(20,"px"):"0px"})},[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(t,(function(t,n){return Object(o["v"])(),Object(o["g"])("div",{key:JSON.stringify(t),style:Object(o["r"])({color:null===t||void 0===t?void 0:t.color,fontSize:"".concat(e.hexagonSize,"px")}),class:"hex",id:r+"|"+n,onClick:Object(o["L"])((function(t){return e.openBuildMenu(r,n,t)}),["stop"])},null,12,ut)})),128))],4)})),128))])]),Object(o["h"])("div",null,[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["B"])(e.Options,(function(t){return Object(o["v"])(),Object(o["g"])("div",{key:t.type},[e.shopShow?(Object(o["v"])(),Object(o["g"])("div",ht,[Object(o["h"])("div",{onClick:Object(o["L"])((function(r){return e.changeHex(e.shopPosition.position[0],e.shopPosition.position[1],t.type)}),["stop"]),style:Object(o["r"])({backgroundColor:t.color})},[Object(o["h"])("div",ft,[Object(o["h"])("div",pt,[Object(o["h"])("div",vt,Object(o["E"])(t.type),1),gt])])],12,bt)])):Object(o["f"])("",!0)])})),128))])])],64)}var jt={id:"nav"},xt=Object(o["j"])("Game"),mt=Object(o["j"])(" | "),yt=Object(o["j"])("MapBuilder");function wt(e,t){var r=Object(o["C"])("router-link");return Object(o["v"])(),Object(o["g"])("div",jt,[Object(o["k"])(r,{to:"/game"},{default:Object(o["J"])((function(){return[xt]})),_:1}),mt,Object(o["k"])(r,{to:"/Mapbuilder"},{default:Object(o["J"])((function(){return[yt]})),_:1})])}const kt={},Pt=a()(kt,[["render",wt]]);var Tt=Pt,Et=(r("b0c0"),r("e71f")),St=r("ea7b");function It(e,t){return Rt.apply(this,arguments)}function Rt(){return Rt=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=Object(St["b"])(),e.next=3,Object(St["d"])(o,t,r);case 3:case"end":return e.stop()}}),e)}))),Rt.apply(this,arguments)}function Mt(e,t){return Ct.apply(this,arguments)}function Ct(){return Ct=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=Object(St["b"])(),e.next=3,Object(St["a"])(o,t,r);case 3:return n=e.sent,e.next=6,Object(Et["e"])(Object(Et["c"])(Object(Et["d"])(),"users",n.user.uid),{email:t});case 6:case"end":return e.stop()}}),e)}))),Ct.apply(this,arguments)}function Ht(e){return Ft.apply(this,arguments)}function Ft(){return Ft=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=null===(r=Cr.value)||void 0===r?void 0:r.uid,e.next=3,Object(Et["a"])(Object(Et["b"])(Object(Et["d"])(),"maps"),{name:t.name,field:t.field,creator:o});case 3:case"end":return e.stop()}}),e)}))),Ft.apply(this,arguments)}var Nt=Object(o["l"])({components:{Navbar:Tt},data:function(){return{mouse:{vector:[0,0]},player:{gold:100},field:[],mapName:"",hexagonSize:50,fieldWidth:30,fieldHeight:15,path:[],pathLength:30,counter:0,generating:!1,shopSize:20,shopShow:!1,shopPosition:{left:0,top:0,position:[0,0]},Options:[{type:"path",color:"#555555"},{type:"water",color:"#0000FF"},{type:"hill",color:"#754c00"},{type:"grass",color:"#008000"}]}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.renderField("clear"),e.counter=0;case 2:case"end":return t.stop()}}),t)})))()},methods:{renderField:function(e){switch(e){case"clear":this.field=[];for(var t=0;t<this.fieldWidth;t++){for(var r=[],o=0;o<this.fieldHeight;o++)r.push({color:"#008000",type:"grass",indices:[t,o]});this.field.push(r)}break;case"pathClear":for(var n=0;n<this.fieldWidth;n++)for(var i=0;i<this.fieldHeight;i++)"path"==this.field[n][i].type&&(this.field[n][i]={indices:[n,i],type:"grass",color:"#008000"});break}},massGenerate:function(){for(var e=0;e<50;e++)this.generatePath("basic",!1)},generatePath:function(e,t){var r=this;return Object(d["a"])(regeneratorRuntime.mark((function o(){var n,i,a,c,s,l,d,u,h,b,f;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:n=[0,r.getRandomInt(r.fieldHeight-1)],r.path=[],r.path.push(r.pathfield(n,!0,!1)),i=[],o.t0=e,o.next="basic"===o.t0?7:"complex"===o.t0?25:46;break;case 7:!1!==t&&r.renderField("pathClear"),r.field[n[0]][n[1]]=r.pathfield(n,!0,!1);case 9:if(!(n[0]<r.fieldWidth-2)){o.next=23;break}o.t1=r.getRandomInt(2),o.next=0===o.t1?13:1===o.t1?16:19;break;case 13:return n[0]%2==0&&n[1]++,n[1]==r.fieldHeight&&n[1]--,o.abrupt("break",19);case 16:return n[0]%2!=0&&n[1]--,n[1]<0&&n[1]++,o.abrupt("break",19);case 19:n[0]++,r.field[n[0]][n[1]]=r.pathfield(n,!1,!1),o.next=9;break;case 23:return r.field[n[0]+1][n[1]]=r.pathfield(n,!1,!0),o.abrupt("break",46);case 25:r.renderField("pathClear"),r.field[n[0]][n[1]]=r.pathfield(n,!0,!1),console.log({field:r.field});case 28:if(!(n[0]<r.fieldWidth-1)){o.next=45;break}a=[],i=r.findNeighbourFields(n[0],n[1],"grass"),console.log({grass:i}),c=Object(Ae["a"])(i);try{for(c.s();!(s=c.n()).done;)l=s.value,d=r.getPathIndeces(l),u=r.findNeighbourFields(d[0],d[1],"path"),console.log({cords:d,path:u}),1==u.length&&a.push(l)}catch(p){c.e(p)}finally{c.f()}if(console.log({validPointerNeighbours:a}),0!=a.length){o.next=37;break}return o.abrupt("break",45);case 37:h=r.getRandomInt(a.length-1),b=a[h],f=r.getPathIndeces(b),r.field[f[0]][f[1]]=r.pathfield(f,!1,!1),r.path.push(r.pathfield(f,!1,!1)),n=f,o.next=28;break;case 45:r.path.length<r.pathLength&&r.counter<1e3&&(console.log("newPath"),r.counter++,r.generatePath("complex"));case 46:case"end":return o.stop()}}),o)})))()},applyPath:function(){var e=this;this.path.forEach((function(t){var r=e.pathfield(e.getPathIndeces(t),!0,!1);e.field[e.getPathIndeces(t)[0]][e.getPathIndeces(t)[1]]=r}))},findNeighbourFields:function(e,t,r){var o=[{dir:"up",x:0,y:-1},{dir:"down",x:0,y:1},{dir:"upright",x:1,y:0},{dir:"downright",x:1,y:1},{dir:"upleft",x:-1,y:0},{dir:"downleft",x:-1,y:1}],n=[{dir:"up",x:0,y:-1},{dir:"down",x:0,y:1},{dir:"upright",x:1,y:-1},{dir:"downright",x:1,y:0},{dir:"upleft",x:-1,y:-1},{dir:"downleft",x:-1,y:0}],i=[];i=e%2==0?o:n;var a,c=[],s=Object(Ae["a"])(i);try{for(s.s();!(a=s.n()).done;){var l=a.value,d=e+l.x,u=t+l.y;console.log({targetX:d,targetY:u}),d<0||u<0||d>this.fieldWidth-1||u>this.fieldHeight-1||this.field[d][u].type!=r||c.push(this.field[d][u]),console.log({x:e,y:t,neighbour:l})}}catch(h){s.e(h)}finally{s.f()}return c},getPathIndeces:function(e){return null===e||void 0===e?void 0:e.indices},clearPath:function(){this.field.forEach((function(e,t){return e.forEach((function(e,r){"path"==e.type&&(e={indices:[t,r],type:"grass",color:"#008000"})}))}))},openBuildMenu:function(e,t,r){this.shopShow=!0,this.mouse.vector=[r.pageX,r.pageY];var o=this.checkClickedField(e,t),n=document.getElementById("".concat(o[0],"|").concat(o[1])).getBoundingClientRect(),i=this.middlePointRect(n);i[0]-=this.shopSize/2+3,i[1]-=this.hexagonSize-this.shopSize/2-2,this.shopPosition.left=i[0],this.shopPosition.top=i[1],this.shopPosition.position=o},changeHex:function(e,t,r){this.field[e][t].type=r,this.field[e][t].color=this.Options.find((function(e){return e.type==r})).color},checkClickedField:function(e,t){if(this.checkField(e,t))return[e,t];if(e%2!=0){if(this.checkField(e,t-1))return[e,t-1];if(this.checkField(e-1,t-1))return[e-1,t-1]}else{if(this.checkField(e-1,t))return[e-1,t];if(this.checkField(e,t-1))return[e,t-1]}},checkField:function(e,t){if(!(t<0)&&!(e<0)){var r=document.getElementById("".concat(e,"|").concat(t)).getBoundingClientRect();return this.collisionsCheck(this.mouse.vector,this.middlePointRect(r),22,22)?[e,t]:void 0}},saveMap:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,o,n,i,a,c,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[],o=Object(Ae["a"])(e.field);try{for(o.s();!(n=o.n()).done;){i=n.value,a=Object(Ae["a"])(i);try{for(a.s();!(c=a.n()).done;)s=c.value,r.push(s)}catch(d){a.e(d)}finally{a.f()}}}catch(d){o.e(d)}finally{o.f()}return console.log({field:r}),l={name:e.mapName,field:r,creator:""},t.prev=5,t.next=8,Ht(l);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](5),e.error("couldn't save map:".concat(t.t0));case 13:case"end":return t.stop()}}),t,null,[[5,10]])})))()},error:function(e){console.error(e)},pathfield:function(e,t,r){return{color:this.Options[0].color,type:"path",indices:e,start:t,finish:r}},middlePointRect:function(e){return[e.left+.5*e.width,e.top+.5*e.height]},percent:function(e,t){return"in"==t?(e+100)/100:"de"==t?e<100?(100-e)/100:0:1},collisionsCheck:function(e,t,r,o){return qe(Ue(e,t))<r/2+o/2},getRandomInt:function(e){return Math.round(Math.random()*e)}}});r("a2d3");const zt=a()(Nt,[["render",Ot],["__scopeId","data-v-5c79b623"]]);var _t=zt,Wt=function(e){return Object(o["y"])("data-v-7d279aa2"),e=e(),Object(o["w"])(),e},Bt={class:"container d-flex align-items-stretch justify-content-center flex-column",style:{height:"100vh"}},Lt={class:"card card-default w-75",style:{"margin-left":"12.5%"}},Vt=Wt((function(){return Object(o["h"])("div",{class:"card-header header"},"Registrierung",-1)})),Kt={class:"card-body"},At={key:0,class:"m-4 alert alert-danger text-center"},Jt={class:"p-4 row col-12"},Ut={class:"col-6 offset-3"},Gt={class:"p-4 row col-12"},qt={class:"col-6 offset-3"},Dt={class:"p-4 row col-12"},$t={class:"col-6 offset-3"},Yt={key:1,class:"btn btn-success m-4 col-2 text-light",type:"submit"},Xt={key:2,class:"m-4 spinner-border spinner-border-sm text-primary"};function Qt(e,t,r,n,i,a){return Object(o["v"])(),Object(o["g"])("div",Bt,[Object(o["h"])("div",Lt,[Vt,Object(o["h"])("div",Kt,[Object(o["h"])("form",{onSubmit:t[3]||(t[3]=Object(o["L"])((function(t){return e.register()}),["prevent"])),autocomplete:"off"},[e.error?(Object(o["v"])(),Object(o["g"])("div",At,Object(o["E"])(e.error),1)):Object(o["f"])("",!0),Object(o["h"])("div",Jt,[Object(o["h"])("div",Ut,[Object(o["K"])(Object(o["h"])("input",{minlength:"3",class:"form-control",id:"email",type:"text",placeholder:"email","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.email=t}),autocomplete:"off"},null,512),[[o["H"],e.email]])])]),Object(o["h"])("div",Gt,[Object(o["h"])("div",qt,[Object(o["K"])(Object(o["h"])("input",{minlength:"3",class:"form-control",id:"password",type:"password",placeholder:"passwort","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password=t}),autocomplete:"off"},null,512),[[o["H"],e.password]])])]),Object(o["h"])("div",Dt,[Object(o["h"])("div",$t,[Object(o["K"])(Object(o["h"])("input",{minlength:"3",class:"form-control",id:"confirm",type:"password",placeholder:"passwort","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.confirmed=t}),autocomplete:"off"},null,512),[[o["H"],e.confirmed]])])]),e.registering?Object(o["f"])("",!0):(Object(o["v"])(),Object(o["g"])("button",Yt,"Registrieren")),e.registering?(Object(o["v"])(),Object(o["g"])("span",Xt)):Object(o["f"])("",!0)],32)])])])}var Zt=Object(o["l"])({data:function(){return{confirmed:"",password:"",email:"",error:"",registering:!1}},methods:{register:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.confirmed!==e.password&&(e.error="Die passwörter stimmen nicht überein"),e.registering=!0,t.prev=2,t.next=5,Mt(e.email,e.password);case 5:e.$router.push("/game"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](2),console.log("couldn't register",t.t0),e.error="Der Account konnte leider nicht registriert werden";case 12:return t.prev=12,e.registering=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,8,12,15]])})))()}}});r("5ef0");const er=a()(Zt,[["render",Qt],["__scopeId","data-v-7d279aa2"]]);var tr=er,rr=function(e){return Object(o["y"])("data-v-660cf77d"),e=e(),Object(o["w"])(),e},or={class:"container d-flex align-items-stretch justify-content-center flex-column",style:{height:"100vh"}},nr={class:"card w-75",style:{"margin-left":"12.5%"}},ir=rr((function(){return Object(o["h"])("div",{class:"card-header"},"Login",-1)})),ar={class:"card-body"},cr={key:0,class:"m-4 alert alert-danger text-center"},sr={class:"p-4 row col-12"},lr={class:"col-6 offset-3"},dr={class:"p-4 row col-12"},ur={class:"col-6 offset-3"},hr={key:1,class:"btn btn-success m-4 col-2",type:"submit"},br={key:2,class:"m-4 spinner-border spinner-border-sm text-primary"};function fr(e,t,r,n,i,a){return Object(o["v"])(),Object(o["g"])("div",or,[Object(o["h"])("div",nr,[ir,Object(o["h"])("div",ar,[Object(o["h"])("form",{onSubmit:t[3]||(t[3]=Object(o["L"])((function(t){return e.login()}),["prevent"])),autocomplete:"off"},[e.error?(Object(o["v"])(),Object(o["g"])("div",cr,"Username or password is not correct")):Object(o["f"])("",!0),Object(o["h"])("div",sr,[Object(o["h"])("div",lr,[Object(o["K"])(Object(o["h"])("input",{minlength:"3",class:"form-control",id:"email",type:"text",placeholder:"email","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.email=t}),autocomplete:"off"},null,512),[[o["H"],e.email]])])]),Object(o["h"])("div",dr,[Object(o["h"])("div",ur,[Object(o["K"])(Object(o["h"])("input",{minlength:"3",class:"form-control",id:"password",type:"password",placeholder:"passwort","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password=t}),autocomplete:"off"},null,512),[[o["H"],e.password]])])]),e.loggingIn?Object(o["f"])("",!0):(Object(o["v"])(),Object(o["g"])("button",hr,"Anmelden")),e.loggingIn?(Object(o["v"])(),Object(o["g"])("span",br)):Object(o["f"])("",!0),Object(o["h"])("button",{class:"btn btn-info m-4 col-2",type:"button",onClick:t[2]||(t[2]=function(t){return e.register()})},"Registrieren")],32)])])])}var pr=Object(o["l"])({data:function(){return{password:"",email:"",error:!1,loggingIn:!1}},methods:{login:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error=!1,e.loggingIn=!0,t.prev=2,t.next=5,It(e.email,e.password);case 5:console.log("logged in with:"+e.email),e.email="",e.password="",e.$router.push("/main"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),console.error({"couldn't login":t.t0});case 14:return t.prev=14,e.password="",e.error=!0,e.loggingIn=!1,t.finish(14);case 19:case"end":return t.stop()}}),t,null,[[2,11,14,19]])})))()},register:function(){this.$router.push("/register")}}});r("505e");const vr=a()(pr,[["render",fr],["__scopeId","data-v-660cf77d"]]);var gr=vr,Or={class:"container d-flex align-items-center",style:{height:"100vh"}},jr={class:"row col-12 d-flex align-items-center justify-content-around"},xr=Object(o["h"])("div",null,"MapBuilder",-1),mr=[xr],yr=Object(o["h"])("div",null,"Game",-1),wr=[yr],kr=Object(o["h"])("div",null,"Statistics",-1),Pr=[kr];function Tr(e,t,r,n,i,a){return Object(o["v"])(),Object(o["g"])("div",Or,[Object(o["h"])("div",jr,[Object(o["h"])("div",{class:"col-3 m-3 btn btn-outline cardOption p-0",onClick:t[0]||(t[0]=function(t){return e.openBuilder()})},mr),Object(o["h"])("div",{class:"col-3 m-3 btn btn-outline cardOption p-0",onClick:t[1]||(t[1]=function(t){return e.openGame()})},wr),Object(o["h"])("div",{class:"col-3 m-3 btn btn-outline cardOption p-0",onClick:t[2]||(t[2]=function(t){return e.openStats()})},Pr)])])}var Er=Object(o["l"])({data:function(){return{}},methods:{openBuilder:function(){this.$router.push("/Mapbuilder")},openGame:function(){this.$router.push("/Game")},openStats:function(){this.$router.push("/Stats")}}});r("bf04");const Sr=a()(Er,[["render",Tr]]);var Ir=Sr,Rr=[{path:"/",name:"Login",component:gr},{path:"/register",name:"Register",component:tr},{path:"/main",name:"Main",component:Ir},{path:"/game",name:"Game",component:Ze},{path:"/MapBuilder",name:"MapBuilder",component:_t}],Mr=Object(u["a"])({history:Object(u["b"])(),routes:Rr}),Cr=Object(o["A"])(null),Hr=function(){var e=Object(St["b"])();return new Promise((function(t,r){var o=Object(St["c"])(e,(function(e){Cr.value=e,o(),t(e)}),r)}))};Mr.beforeEach(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r,o){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.matched.some((function(e){return e.meta.requiresAuth})),e.next=3,Hr();case 3:if(e.t0=!e.sent,!e.t0){e.next=6;break}e.t0=n;case 6:if(!e.t0){e.next=10;break}o("/login"),e.next=11;break;case 10:o();case 11:case"end":return e.stop()}}),e)})));return function(t,r,o){return e.apply(this,arguments)}}());var Fr=Mr,Nr=(r("abe2"),r("ab8b"),r("7b17"),r("7051"),r("260b")),zr={apiKey:"AIzaSyDEPp1rKaHb8KgBYiaelwkhViARw9SCymo",authDomain:"towerdefence-c7b47.firebaseapp.com",projectId:"towerdefence-c7b47",storageBucket:"towerdefence-c7b47.appspot.com",messagingSenderId:"688852858765",appId:"1:688852858765:web:e89c44b45973472b34efc4"};Object(Nr["a"])(zr);Object(o["d"])(l).use(Fr).mount("#app")},ceab:function(e,t,r){"use strict";r("a66a")}});
//# sourceMappingURL=app.8ae9db11.js.map