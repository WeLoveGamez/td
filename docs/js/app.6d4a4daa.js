(function(e){function t(t){for(var i,a,c=t[0],s=t[1],l=t[2],u=0,h=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);d&&d(t);while(h.length)h.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],i=!0,c=1;c<r.length;c++){var s=r[c];0!==o[s]&&(i=!1)}i&&(n.splice(t--,1),e=a(a.s=r[0]))}return e}var i={},o={app:0},n=[];function a(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=i,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/td/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=s;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"0577":function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,"*[data-v-7d279aa2]{color:#000}",""]),e.exports=t},"0f35":function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#fff}#nav{padding:10px;margin-bottom:5px;border-bottom:1px solid #000}#nav a{font-weight:700;color:#fff}#nav a.router-link-exact-active{color:#42b983}",""]),e.exports=t},"12f5":function(e,t,r){var i=r("36b1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=r("499e").default;o("a8b0e1e0",i,!0,{sourceMap:!1,shadowMode:!1})},"36b1":function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,'.hex[data-v-5c79b623]:before{content:"\\2B22";display:flex;margin-top:-35px;margin-left:-5px;transform:rotate(-29deg)}',""]),e.exports=t},"37b0":function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,':root{--sniper:#c66;--sniper-focus:#bf4040;--ballista:#6d66cc;--ballista-focus:#4840bf;--laser:#cc66c7;--laser-focus:#bf40b9;--path:#cca866;--path-focus:#bf9340;--grass:#66cc80;--grass-focus:#40bf60;--water:#66a7cc;--water-focus:#4090bf;--hill:#94cc66;--hill-focus:#79bf40;--forest:#39793e;--forest-focus:#29572d;--general:#3b3b3b;--button:#237ee7;--button-darker:#1461b8;--button-darkest:#0f488a}#game{background-image:url(/td/bgbig.gif);background-position:0 -500px}.offsetRow:nth-child(odd){margin-top:18px}.hex{position:relative;width:20px;height:34px;margin:2px 6px}.hex.path{background-color:var(--path)}.hex.path:after,.hex.path:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.path:after{right:100%;border-right:10px solid var(--path)}.hex.path:before{left:100%;border-left:10px solid var(--path)}.hex.path:focus{background-color:var(--path-focus)}.hex.path:focus:after{right:100%;border-right:10px solid var(--path-focus)}.hex.path:focus:before{left:100%;border-left:10px solid var(--path-focus)}.hex.grass{background-color:var(--grass)}.hex.grass:after,.hex.grass:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.grass:after{right:100%;border-right:10px solid var(--grass)}.hex.grass:before{left:100%;border-left:10px solid var(--grass)}.hex.grass:focus{background-color:var(--grass-focus)}.hex.grass:focus:after{right:100%;border-right:10px solid var(--grass-focus)}.hex.grass:focus:before{left:100%;border-left:10px solid var(--grass-focus)}.hex.hill{background-color:var(--hill)}.hex.hill:after,.hex.hill:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.hill:after{right:100%;border-right:10px solid var(--hill)}.hex.hill:before{left:100%;border-left:10px solid var(--hill)}.hex.hill:focus{background-color:var(--hill-focus)}.hex.hill:focus:after{right:100%;border-right:10px solid var(--hill-focus)}.hex.hill:focus:before{left:100%;border-left:10px solid var(--hill-focus)}.hex.water{background-color:var(--water)}.hex.water:after,.hex.water:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.water:after{right:100%;border-right:10px solid var(--water)}.hex.water:before{left:100%;border-left:10px solid var(--water)}.hex.water:focus{background-color:var(--water-focus)}.hex.water:focus:after{right:100%;border-right:10px solid var(--water-focus)}.hex.water:focus:before{left:100%;border-left:10px solid var(--water-focus)}.hex.forest{background-color:var(--forest)}.hex.forest:after,.hex.forest:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.forest:after{right:100%;border-right:10px solid var(--forest)}.hex.forest:before{left:100%;border-left:10px solid var(--forest)}.hex.forest:focus{background-color:var(--forest-focus)}.hex.forest:focus:after{right:100%;border-right:10px solid var(--forest-focus)}.hex.forest:focus:before{left:100%;border-left:10px solid var(--forest-focus)}.hex.sniper{background-color:var(--sniper)}.hex.sniper:after,.hex.sniper:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.sniper:after{right:100%;border-right:10px solid var(--sniper)}.hex.sniper:before{left:100%;border-left:10px solid var(--sniper)}.hex.sniper:focus{background-color:var(--sniper-focus)}.hex.sniper:focus:after{right:100%;border-right:10px solid var(--sniper-focus)}.hex.sniper:focus:before{left:100%;border-left:10px solid var(--sniper-focus)}.hex.laser{background-color:var(--laser)}.hex.laser:after,.hex.laser:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.laser:after{right:100%;border-right:10px solid var(--laser)}.hex.laser:before{left:100%;border-left:10px solid var(--laser)}.hex.laser:focus{background-color:var(--laser-focus)}.hex.laser:focus:after{right:100%;border-right:10px solid var(--laser-focus)}.hex.laser:focus:before{left:100%;border-left:10px solid var(--laser-focus)}.hex.ballista{background-color:var(--ballista)}.hex.ballista:after,.hex.ballista:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.hex.ballista:after{right:100%;border-right:10px solid var(--ballista)}.hex.ballista:before{left:100%;border-left:10px solid var(--ballista)}.hex.ballista:focus{background-color:var(--ballista-focus)}.hex.ballista:focus:after{right:100%;border-right:10px solid var(--ballista-focus)}.hex.ballista:focus:before{left:100%;border-left:10px solid var(--ballista-focus)}.button{display:flex;align-items:center;justify-content:center;position:relative;width:120px;height:34px;margin:2px 15px;background-color:var(--button)}.button:hover{background-color:var(--button-darker)}.button:hover:before{left:100%;border-left:10px solid var(--button-darker)}.button:hover:after{right:100%;border-right:10px solid var(--button-darker)}.button:active{background-color:var(--button-darkest)}.button:active:before{left:100%;border-left:10px solid var(--button-darkest)}.button:active:after{right:100%;border-right:10px solid var(--button-darkest)}.button:after,.button:before{content:"";position:absolute;width:0;border-top:17px solid transparent;border-bottom:17px solid transparent}.button:before{left:100%;border-left:10px solid var(--button)}.button:after{right:100%;border-right:10px solid var(--button);top:0}.card{box-shadow:4px 7px 10px 0 rgba(0,0,0,.88);background-color:var(--general)!important;color:#fff!important}.card .card-header{box-shadow:inset 16px 22px 20px -14px hsla(0,0%,100%,.226)}.card .card-body{box-shadow:inset 16px 0 20px -14px hsla(0,0%,100%,.226)}',""]),e.exports=t},4249:function(e,t,r){var i=r("6218");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=r("499e").default;o("85cb6b30",i,!0,{sourceMap:!1,shadowMode:!1})},"457c":function(e,t,r){var i=r("bd6f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=r("499e").default;o("4756a336",i,!0,{sourceMap:!1,shadowMode:!1})},"505e":function(e,t,r){"use strict";r("457c")},"5ef0":function(e,t,r){"use strict";r("af5d")},6218:function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,".cardOption{color:#000!important;background-color:#fff!important}.cardOption :hover{color:#fff!important;background-color:#000!important}",""]),e.exports=t},a2d3:function(e,t,r){"use strict";r("12f5")},a66a:function(e,t,r){var i=r("0f35");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=r("499e").default;o("6ffe208d",i,!0,{sourceMap:!1,shadowMode:!1})},abe2:function(e,t,r){var i=r("37b0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=r("499e").default;o("5d15161b",i,!0,{sourceMap:!1,shadowMode:!1})},af5d:function(e,t,r){var i=r("0577");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=r("499e").default;o("06fc3caf",i,!0,{sourceMap:!1,shadowMode:!1})},bd6f:function(e,t,r){var i=r("24fb");t=i(!1),t.push([e.i,"*[data-v-660cf77d]{font-family:Arial,Helvetica,sans-serif;color:#000}",""]),e.exports=t},bf04:function(e,t,r){"use strict";r("4249")},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("7a23");function o(e,t){var r=Object(i["C"])("router-view");return Object(i["v"])(),Object(i["e"])(r)}r("ceab");var n=r("6b0d"),a=r.n(n);const c={},s=a()(c,[["render",o]]);var l=s,d=r("1da1"),u=(r("96cf"),r("d3b7"),r("6c02")),h=(r("e9c4"),r("a15b"),r("99af"),r("b680"),{class:"flex-1"}),f={class:"row col-12 py-2"},p=Object(i["h"])("div",{class:"col-1 offset-1"},"gold:",-1),b={class:"col-3 text-start"},v=Object(i["h"])("i",{class:"fas fa-coins"},null,-1),g=Object(i["h"])("div",{class:"col-1"},"HP:",-1),j={class:"col-3 text-start"},O=Object(i["h"])("div",{class:"col-1"},"wave:",-1),m={class:"col-2 text-start"},x={class:"d-flex justify-content-center"},y=["onClick"],w=["id"],k=["points"],P=["cx","cy","r","stroke"],M=["id"],S={key:0},T={class:"d-flex justify-content-center my-3"},C=["onClick"],E={id:"shop"},F={class:"card text-dark"},I={class:"card card-header p-0"},R={class:"card card-body py-1 px-3"},H={key:1,class:"d-flex justify-content-center"},N={id:"towermenu"},B={class:"card text-dark mt-2"},_={class:"card card-header p-0"},z={class:"card card-body pb-1"},W={class:"d-flex justify-content-between"},K=Object(i["j"])(" sell Tower "),J={style:{color:"rgb(0, 230, 0)"}},V=Object(i["h"])("i",{class:"fas fa-coins"},null,-1),G=Object(i["j"])(" upgrade Tower "),A={style:{color:"rgb(255, 0, 21)"}},L=Object(i["h"])("i",{class:"fas fa-coins"},null,-1),U={class:"row col-12"},q={class:"col-6"},$={class:"col-6",style:{color:"rgb(0, 230, 0)"}},D={class:"col-6"},Y={class:"col-6",style:{color:"rgb(0, 230, 0)"}},X={class:"col-6"},Q={class:"col-6",style:{color:"rgb(0, 230, 0)"}},Z={class:"d-flex justify-content-center",style:{position:"absolute",bottom:"0",width:"100%"}},ee=["disabled"],te=["disabled"],re=["disabled"],ie={id:"polylineContainer",style:{position:"absolute",left:"0",top:"0","pointer-events":"none",width:"100%",height:"100%"}},oe=["cx","cy","r","fill"],ne=["points"],ae=["points"];function ce(e,t,r,o,n,a){return Object(i["v"])(),Object(i["g"])("div",{id:"game",style:{height:"100vh",position:"relative"},onClick:t[6]||(t[6]=function(t){return e.selectedTileIndices=null})},[Object(i["h"])("div",h,[Object(i["h"])("div",f,[p,Object(i["h"])("div",b,[Object(i["j"])(Object(i["E"])(Math.round(e.player.gold))+" ",1),v]),g,Object(i["h"])("div",j,Object(i["E"])(e.player.hp),1),O,Object(i["h"])("div",m,Object(i["E"])(e.wave),1)]),Object(i["h"])("div",x,[(Object(i["v"])(!0),Object(i["g"])(i["a"],null,Object(i["B"])(e.field,(function(t,r){return Object(i["v"])(),Object(i["g"])("div",{class:"offsetRow",key:JSON.stringify(t)},[(Object(i["v"])(!0),Object(i["g"])(i["a"],null,Object(i["B"])(t,(function(t,o){var n,a,c,s,l;return Object(i["v"])(),Object(i["g"])("div",{key:t.indices.join("|"),onClick:Object(i["K"])((function(t){return e.selectedTileIndices=[r,o]}),["stop"])},[e.field[r][o].tower?(Object(i["v"])(),Object(i["g"])("div",{key:0,class:Object(i["q"])(["hex",null===(n=t.tower)||void 0===n?void 0:n.type]),id:r+"|"+o,tabindex:"0"},[(Object(i["v"])(),Object(i["e"])(i["b"],{to:"#polylineContainer"},[null!==(a=t.tower)&&void 0!==a&&a.target?(Object(i["v"])(),Object(i["g"])("polyline",{key:0,points:"".concat(e.getPosition(r,o).join(", ")," ").concat(null===(c=e.getEnemyPosition(t.tower.target))||void 0===c?void 0:c.join(", ")),fill:"none",stroke:"red"},null,8,k)):Object(i["f"])("",!0),e.selectedTile?(Object(i["v"])(),Object(i["g"])("circle",{key:1,cx:e.getPosition(r,o)[0],cy:e.getPosition(r,o)[1],r:null===(s=t.tower)||void 0===s?void 0:s.range,fill:"rgba(255, 0, 30, 0.13)",stroke:null===(l=t.tower)||void 0===l?void 0:l.color},null,8,P)):Object(i["f"])("",!0)]))],10,w)):(Object(i["v"])(),Object(i["g"])("div",{key:1,class:Object(i["q"])(["hex",t.type]),id:r+"|"+o,tabindex:"0"},null,10,M))],8,y)})),128))])})),128))]),e.selectedTileIndices&&!e.selectedTower?(Object(i["v"])(),Object(i["g"])("div",S,[Object(i["h"])("div",T,[(Object(i["v"])(!0),Object(i["g"])(i["a"],null,Object(i["B"])(e.TOWER_OPTIONS,(function(t){return Object(i["v"])(),Object(i["g"])("div",{key:t.type,class:"mx-4"},[e.tower([0,0],t).buildingFields.some((function(t){var r;return t==(null===(r=e.selectedTile)||void 0===r?void 0:r.type)}))?(Object(i["v"])(),Object(i["g"])("div",{key:0,onClick:Object(i["K"])((function(r){return e.buildTower(e.selectedTileIndices,t)}),["stop"])},[Object(i["h"])("div",E,[Object(i["h"])("div",F,[Object(i["h"])("div",I,Object(i["E"])(t.type),1),Object(i["h"])("div",R,[Object(i["h"])("div",{class:Object(i["q"])(["hex mx-auto",t.type])},null,2),Object(i["h"])("div",null,"hotKey:"+Object(i["E"])(t.shortcut),1),Object(i["h"])("div",null,"price:"+Object(i["E"])(e.tower([0,0],t).price),1),Object(i["h"])("div",null,"range:"+Object(i["E"])(e.tower([0,0],t).range),1),Object(i["h"])("div",null,"attackspeed:"+Object(i["E"])(e.tower([0,0],t).atkspeed),1),Object(i["h"])("div",null,"atk:"+Object(i["E"])(e.tower([0,0],t).atk),1)])])])],8,C)):Object(i["f"])("",!0)])})),128))])])):Object(i["f"])("",!0),e.selectedTower?(Object(i["v"])(),Object(i["g"])("div",H,[Object(i["h"])("div",N,[Object(i["h"])("div",B,[Object(i["h"])("div",_,Object(i["E"])(e.selectedTower.type),1),Object(i["h"])("div",z,[Object(i["h"])("div",null,[Object(i["h"])("div",W,[Object(i["h"])("button",{class:"btn btn-danger w-50 me-2 d-flex justify-content-center",type:"button",onClick:t[0]||(t[0]=Object(i["K"])((function(t){return e.sell(e.selectedTower)}),["stop"]))},[K,Object(i["h"])("div",J,[Object(i["j"])("  "+Object(i["E"])(Math.floor(e.selectedTower.totalValue/2))+" ",1),V])]),Object(i["h"])("button",{class:"btn btn-success w-50 ms-2 d-flex justify-content-center",type:"button",onClick:t[1]||(t[1]=Object(i["K"])((function(t){return e.upgrade(e.selectedTower,.3*e.selectedTower.totalValue,1.04)}),["stop"]))},[G,Object(i["h"])("div",A,[Object(i["j"])("  "+Object(i["E"])(Math.floor(.3*e.selectedTower.totalValue))+" ",1),L])])]),Object(i["h"])("div",U,[Object(i["h"])("div",q,"dmg/atttack: "+Object(i["E"])(e.selectedTower.atk.toFixed(2)),1),Object(i["h"])("div",$,"+"+Object(i["E"])((.04*e.selectedTower.atk).toFixed(2)),1),Object(i["h"])("div",D,"attacks/s: "+Object(i["E"])(e.selectedTower.atkspeed.toFixed(2)),1),Object(i["h"])("div",Y,"+"+Object(i["E"])((.04*e.selectedTower.atkspeed).toFixed(2)),1),Object(i["h"])("div",X,"range: "+Object(i["E"])(e.selectedTower.range.toFixed(2)),1),Object(i["h"])("div",Q,"+"+Object(i["E"])((.04*e.selectedTower.range).toFixed(2)),1)])])])])])])):Object(i["f"])("",!0),Object(i["h"])("div",Z,[Object(i["h"])("div",{class:"button",disabled:e.gameStarted,onClick:t[2]||(t[2]=function(t){return e.reset()})},"reset",8,ee),Object(i["h"])("div",{class:"button",disabled:e.gameStarted,onClick:t[3]||(t[3]=function(t){return e.gameLoop()})},"step",8,te),Object(i["h"])("div",{class:"button",onClick:t[4]||(t[4]=function(t){return e.gameStarted=!e.gameStarted})},Object(i["E"])(e.gameStarted?"pause":"play"),1),Object(i["h"])("div",{class:"button",disabled:e.waveSpawn,onClick:t[5]||(t[5]=function(t){return e.waveSpawn=!0})},"Next Wave",8,re)])]),(Object(i["v"])(),Object(i["g"])("svg",ie,[(Object(i["v"])(!0),Object(i["g"])(i["a"],null,Object(i["B"])(e.enemies,(function(e){return Object(i["v"])(),Object(i["g"])("circle",{key:JSON.stringify(e),cx:e.cords[0],cy:e.cords[1],r:e.size/2,fill:e.color},null,8,oe)})),128)),(Object(i["v"])(!0),Object(i["g"])(i["a"],null,Object(i["B"])(e.enemies,(function(e){return Object(i["v"])(),Object(i["g"])("polyline",{key:JSON.stringify(e),points:"".concat(e.cords[0]-e.size-1,",").concat(e.cords[1]-e.size," ").concat(e.cords[0]+e.size+1,",").concat(e.cords[1]-e.size),fill:"none",stroke:"black","stroke-width":"5px"},null,8,ne)})),128)),(Object(i["v"])(!0),Object(i["g"])(i["a"],null,Object(i["B"])(e.enemies,(function(e){return Object(i["v"])(),Object(i["g"])("polyline",{key:JSON.stringify(e),points:"".concat(e.cords[0]-e.size,",").concat(e.cords[1]-e.size," ").concat(e.cords[0]-e.size+2*e.size*e.HP/e.maxHP,",").concat(e.cords[1]-e.size),fill:"none",stroke:"red","stroke-width":"3px"},null,8,ae)})),128))]))])}var se=r("5530"),le=r("2909"),de=r("3835"),ue=r("b85c");r("d81d"),r("4de4"),r("0481"),r("4069"),r("159b"),r("07ac"),r("c740"),r("7db0");function he(e,t){return"number"==typeof t?[e[0]+t,e[1]+t]:[e[0]+t[0],e[1]+t[1]]}function fe(e,t){return"number"==typeof t?[e[0]-t,e[1]-t]:[e[0]-t[0],e[1]-t[1]]}function pe(e,t){return"number"==typeof t?[e[0]/t,e[1]/t]:[e[0]/t[0],e[1]/t[1]]}function be(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function ve(e){return Math.pow(e[0],2)+Math.pow(e[1],2)}var ge={sniper:{atk:30,range:500,atkspeed:1,price:20,totalValue:20,buildingFields:["forest","hill","grass"],color:"#FF0000",type:"sniper",shortcut:"1"},ballista:{atk:15,range:150,atkspeed:3,price:25,totalValue:25,buildingFields:["forest","hill","grass"],color:"#00FF00",type:"ballista",shortcut:"2"},laser:{atk:3,range:150,atkspeed:10,price:30,totalValue:30,buildingFields:["forest","hill","grass"],color:"#AA00FF",type:"laser",shortcut:"3"},canonship:{atk:15,range:250,atkspeed:2,price:40,totalValue:40,buildingFields:["water"],color:"#754c33",type:"canonship",shortcut:"4"}},je={hill:{atk:1,atkspeed:1,range:1.2},water:{atk:1,atkspeed:1,range:1},forest:{atk:1,atkspeed:.8,range:.9},grass:{atk:1,atkspeed:1,range:1}},Oe=Object(i["l"])({setup:function(){return{TOWER_OPTIONS:ge}},data:function(){return{player:{gold:100,hp:100},hexagonSize:50,fieldWidth:50,fieldHeight:20,field:[],counter:0,path:[],enemies:[],gameStarted:!1,gamelooptick:0,wave:1,waveSpawn:!0,spawned:0,selectedTileIndices:null,shopSize:20,shopPosition:{left:0,top:0,position:[0,0]},pressedKeys:{}}},mounted:function(){var e=this;this.createField(),this.startGame(),document.addEventListener("keyup",(function(t){return"Space"==t.code&&(e.gameStarted=!e.gameStarted)}))},computed:{selectedTile:function(){return this.selectedTileIndices?this.field[this.selectedTileIndices[0]][this.selectedTileIndices[1]]:null},towers:function(){return this.field.flat().filter((function(e){return e.tower})).map((function(e){return e.tower}))},selectedTower:function(){var e,t;return null!==(e=null===(t=this.selectedTile)||void 0===t?void 0:t.tower)&&void 0!==e?e:null}},methods:{reset:function(){this.gameStarted=!1,this.gamelooptick=0,this.wave=0,this.player.gold=100,this.player.hp=100,this.field=[],this.enemies=[],this.path=[],this.createField()},createField:function(){this.field=[];for(var e=0;e<this.fieldWidth;e++){for(var t=[],r=0;r<this.fieldHeight;r++){var i=this.getRandomInt(50);0==i&&t.push({color:"#005000",type:"forest",indices:[e,r]}),1!=i&&2!=i||t.push({color:"#0000CC",type:"water",indices:[e,r]}),3!=i&&4!=i||t.push({color:"#754c00",type:"hill",indices:[e,r]}),i>4&&t.push({color:"#008000",type:"grass",indices:[e,r]})}this.field.push(t)}this.generatePath("basic")},generatePath:function(e){this.clearPath();var t=[0,this.getRandomInt(this.fieldHeight-1)],r=t[0],i=t[1];this.path=[],this.path.push(this.pathfield([r,i],!0,!1));var o=[];switch(e){case"basic":this.field[r][i]=this.pathfield([r,i],!0,!1);while(r<this.fieldWidth-2){switch(this.getRandomInt(2)){case 0:r%2==0&&i++,i==this.fieldHeight&&i--;break;case 1:r%2!=0&&i--,i<0&&i++;break}r++,this.field[r][i]=this.pathfield([r,i],!1,!1),this.path.push(this.pathfield([r,i],!1,!1))}this.field[r+1][i]=this.pathfield([r+1,i],!1,!0),this.path.push(this.pathfield([r+1,i],!1,!0));break;case"complex":this.field[r][i]=this.pathfield([r,i],!0,!1);while(r<this.fieldWidth-1){var n=[];o=this.findNeighbourFields(r,i,"grass");var a,c=Object(ue["a"])(o);try{for(c.s();!(a=c.n()).done;){var s=a.value,l=s.indices,d=this.findNeighbourFields(l[0],l[1],"path");1==d.length&&n.push(s)}}catch(b){c.e(b)}finally{c.f()}if(0==n.length)break;var u=this.getRandomInt(n.length-1),h=n[u],f=h.indices;this.field[f[0]][f[1]]=this.pathfield(f,!1,!1),this.path.push(this.pathfield(f,!1,!1));var p=Object(de["a"])(f,2);r=p[0],i=p[1]}}},clearPath:function(){var e=this;this.path=[],this.field.forEach((function(t,r){return t.forEach((function(t,i){"path"==t.type&&(e.field[r][i]={indices:t.indices,type:"grass",color:"135, 50%, 60%"})}))}))},findNeighbourFields:function(e,t,r){var i=[{dir:"up",x:0,y:-1},{dir:"down",x:0,y:1},{dir:"upright",x:1,y:0},{dir:"downright",x:1,y:1},{dir:"upleft",x:-1,y:0},{dir:"downleft",x:-1,y:1}],o=[{dir:"up",x:0,y:-1},{dir:"down",x:0,y:1},{dir:"upright",x:1,y:-1},{dir:"downright",x:1,y:0},{dir:"upleft",x:-1,y:-1},{dir:"downleft",x:-1,y:0}],n=[];n=e%2==0?i:o;var a,c=[],s=Object(ue["a"])(n);try{for(s.s();!(a=s.n()).done;){var l=a.value,d=e+l.x,u=t+l.y;d<0||u<0||d>this.fieldWidth-1||u>this.fieldHeight-1||this.field[d][u].type!=r||c.push(this.field[d][u])}}catch(h){s.e(h)}finally{s.f()}return c},testSetup:function(){this.clearPath(),this.wave=100;for(var e=0,t=0;t<this.wave;t++)e+=10*Math.pow(t,.5)*t;this.player.gold=e;for(var r=0;r<this.fieldWidth;r++)this.field[r][7]=this.pathfield([r,7],!1,!1),this.path.push(this.pathfield([r,7],!1,!1));for(var i=0;i<this.fieldWidth;i++)this.buildTower([i,8],ge["laser"]);for(var o=0;o<this.fieldWidth;o++)this.buildTower([o,6],ge["laser"])},startGame:function(){var e=this;window.onkeyup=function(t){e.pressedKeys[t.key]=!1},window.onkeydown=function(t){e.pressedKeys[t.key]=!0},setInterval((function(){e.gameStarted&&e.gameLoop(),e.selectedTile&&e.building()}),1e3/60)},gameLoop:function(){this.gamelooptick++,this.checkEntities(),this.movement(),this.towerAction(),this.spawnWave()},spawnWave:function(){if(this.waveSpawn){var e=Math.floor(5*Math.pow(this.wave,.5));if(this.gamelooptick%(60/Math.pow(this.wave,.5))<1)switch(this.getRandomInt(2)){case 0:this.createEnemy("blue"),this.spawned++;break;case 1:this.createEnemy("yellow"),this.spawned+=1.5;break}e<=this.spawned&&(this.waveSpawn=!1,this.spawned=0)}},building:function(){var e;if(void 0==(null===(e=this.selectedTile)||void 0===e?void 0:e.tower))for(var t=0,r=Object.values(ge);t<r.length;t++){var i=r[t];this.pressedKeys[i.shortcut]&&this.buildTower(this.selectedTileIndices,i)}},movement:function(){this.moveEnemy()},checkEntities:function(){this.checkEnemyLife()},towerAction:function(){var e,t=this,r=Object(ue["a"])(this.towers.filter((function(e){return t.gamelooptick%(60/e.atkspeed)<1})));try{for(r.s();!(e=r.n()).done;){var i=e.value;this.getTowerTarget(i),this.towerAttack(i)}}catch(o){r.e(o)}finally{r.f()}},createEnemy:function(e){switch(e){case"blue":var t=75*Math.pow(this.wave,.5),r={cords:this.getPosition.apply(this,Object(le["a"])(this.path[0].indices)),id:JSON.stringify(Math.random()),maxHP:t,HP:t,size:16,nextPathNumber:1,speed:1.5,distanceTravelled:0,color:"blue"};this.enemies.push(r);break;case"yellow":var i=150*Math.pow(this.wave,.5),o={cords:this.getPosition.apply(this,Object(le["a"])(this.path[0].indices)),id:JSON.stringify(Math.random()),maxHP:i,HP:i,size:16,nextPathNumber:1,speed:.8,distanceTravelled:0,color:"yellow"};this.enemies.push(o);break}},checkEnemyLife:function(){this.player.gold+=this.enemies.filter((function(e){return e.HP<=0})).reduce((function(e,t){return e+t.maxHP/10}),0),this.enemies=this.enemies.filter((function(e){return e.HP>0})),0==this.enemies.length&&(this.waveSpawn||this.wave++,this.waveSpawn=!0)},moveEnemy:function(){var e,t=Object(ue["a"])(this.enemies);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.nextPathNumber<this.path.length){var i=this.getPosition.apply(this,Object(le["a"])(this.path[r.nextPathNumber].indices)),o=fe(i,r.cords);r.cords=he(r.cords,pe(o,be(o)/r.speed)),r.distanceTravelled+=be(pe(o,be(o)/r.speed)),ve(fe(r.cords,i))<Math.pow(r.speed,2)&&r.nextPathNumber++}else this.survivedEnemy(r)}}catch(n){t.e(n)}finally{t.f()}},survivedEnemy:function(e){this.player.hp--,this.enemies=this.enemies.filter((function(t){return t!==e}))},buildTower:function(e,t){if(this.selectedTileIndices=null,t&&!(this.player.gold-ge[t.type].price<0)){var r=je[this.field[e[0]][e[1]].type],i=this.tower([e[0],e[1]],t);i.atk*=r.atk,i.atkspeed*=r.atkspeed,i.range*=r.range,this.field[e[0]][e[1]].tower=i,this.player.gold-=i.price}},sell:function(e){this.player.gold+=Math.floor(e.totalValue/2),this.field[e.indices[0]][e.indices[1]].tower=void 0},upgrade:function(e,t,r){if(!(this.player.gold-t<0)){for(var i=0,o=["atk","atkspeed","range"];i<o.length;i++){var n=o[i];e[n]*=r}e.level++,e.totalValue+=t,this.player.gold-=t}},tower:function(e,t){return Object(se["a"])(Object(se["a"])({},ge[t.type]),{},{indices:e,target:null,filter:"first",level:1})},getTowerTarget:function(e){var t,r,i,o=document.getElementById("".concat(e.indices[0],"|").concat(e.indices[1])).getBoundingClientRect(),n=null,a=this.middlePointRect(o),c=Object(ue["a"])(this.enemies.filter((function(e){return e.HP>0})));try{for(c.s();!(i=c.n()).done;){var s=i.value,l=fe(s.cords,s.size/2);if(ve(fe(a,l))<Math.pow(e.range,2))switch(e.filter){default:case"first":(null==n||s.distanceTravelled>n.distanceTravelled)&&(n=s);break;case"last":(null==n||s.distanceTravelled<n.distanceTravelled)&&(n=s);break;case"closest":(null==n||ve(fe(a,l))<ve(fe(a,fe(n.cords,n.size/2))))&&(n=s);break;case"mostHealthy":(null==n||s.HP>n.HP)&&(n=s);break;case"mostWounded":(null==n||s.HP<n.HP)&&(n=s);break;case"slowest":(null==n||s.speed<n.speed)&&(n=s);break;case"fastest":(null==n||s.speed>n.speed)&&(n=s);break}}}catch(d){c.e(d)}finally{c.f()}this.field[e.indices[0]][e.indices[1]].tower.target=null!==(t=null===(r=n)||void 0===r?void 0:r.id)&&void 0!==t?t:null},towerAttack:function(e){var t=this.enemies.findIndex((function(t){return t.id==e.target}));-1!=t&&(this.enemies[t].HP-=e.atk),-1!=t&&this.enemies[t].HP<0&&(this.enemies[t].HP=0)},getPosition:function(e,t){var r=document.getElementById("".concat(e,"|").concat(t)).getBoundingClientRect();return this.middlePointRect(r)},getEnemyPosition:function(e){var t=this.enemies.find((function(t){return t.id==e}));if(t)return t.cords},checkPrice:function(e){return e<=this.player.gold&&(this.player.gold-=e,!0)},pathfield:function(e,t,r){return{color:"39, 50%, 60%",type:"path",indices:e,start:t,finish:r}},middlePointRect:function(e){return[e.left+.5*e.width,e.top+.5*e.height]},getRandomInt:function(e){return Math.floor(Math.random()*e)}}});const me=a()(Oe,[["render",ce]]);var xe=me,ye=function(e){return Object(i["y"])("data-v-5c79b623"),e=e(),Object(i["w"])(),e},we={class:"d-flex mx-5 justify-content-around"},ke=Object(i["j"])(" gold: "),Pe=Object(i["j"])(" FieldWidth: "),Me=Object(i["j"])(" FieldHeight: "),Se=Object(i["j"])(" MinPathLength: "),Te=["max"],Ce=ye((function(){return Object(i["h"])("button",{class:"btn btn-success ms-1",type:"submit"},"save map",-1)})),Ee={class:"row col-12"},Fe=Object(i["i"])('<div class="d-flex flex-column mt-5 p-0" style="width:7%;" data-v-5c79b623><ul style="list-style-type:none;" class="ms-4 p-0" data-v-5c79b623><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:#555555;" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>Path</p></li><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:green;" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>grass</p></li><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:blue;" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>Water</p></li><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:rgb(117, 76, 0);" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>Hill</p></li><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:black;" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>Fill</p></li><li class="d-flex" data-v-5c79b623><div style="width:30px;height:20px;background-color:black;" data-v-5c79b623></div><p class="ms-3" data-v-5c79b623>Fill</p></li></ul></div>',1),Ie={class:"d-flex mt-5",style:{width:"93%"}},Re=["id","onClick"],He={key:0},Ne=["onClick"],Be={id:"shop"},_e={class:"card w-100 text-dark"},ze={class:"card card-header"},We=ye((function(){return Object(i["h"])("div",{class:"card card-body"},null,-1)}));function Ke(e,t,r,o,n,a){var c=Object(i["C"])("Navbar");return Object(i["v"])(),Object(i["g"])(i["a"],null,[Object(i["k"])(c),Object(i["h"])("div",{onClick:t[13]||(t[13]=function(t){return e.shopShow=!1}),class:"flex-1",style:{height:"100vh"}},[Object(i["h"])("div",we,[Object(i["h"])("div",null,[ke,Object(i["J"])(Object(i["h"])("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.player.gold=t})},null,512),[[i["G"],e.player.gold]])]),Object(i["h"])("div",null,[Pe,Object(i["J"])(Object(i["h"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.fieldWidth=t}),max:"50",min:"3",onChange:t[2]||(t[2]=function(t){return e.renderField("clear")})},null,544),[[i["G"],e.fieldWidth]])]),Object(i["h"])("div",null,[Me,Object(i["J"])(Object(i["h"])("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.fieldHeight=t}),max:"20",min:"3",onChange:t[4]||(t[4]=function(t){return e.renderField("clear")})},null,544),[[i["G"],e.fieldHeight]])]),Object(i["h"])("div",null,[Se,Object(i["J"])(Object(i["h"])("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.pathLength=t}),max:e.fieldHeight*e.fieldWidth/3,min:"0",onChange:t[6]||(t[6]=function(t){return e.generatePath("complex")})},null,40,Te),[[i["G"],e.pathLength]])]),Object(i["h"])("button",{class:"btn btn-info mb-1 ms-2",type:"button",onClick:t[7]||(t[7]=Object(i["K"])((function(t){return e.generatePath("basic")}),["stop"]))},"Auto generate basic path"),Object(i["h"])("button",{class:"btn btn-info mb-1 ms-2",type:"button",onClick:t[8]||(t[8]=Object(i["K"])((function(t){return e.generatePath("complex")}),["stop"]))},"Auto generate complex path"),Object(i["h"])("button",{class:"btn btn-info mb-1 ms-2",onClick:t[9]||(t[9]=Object(i["K"])((function(t){return e.renderField("clear")}),["stop"]))},"clear"),Object(i["h"])("button",{class:"btn btn-info mb-1 ms-2",onClick:t[10]||(t[10]=Object(i["K"])((function(t){return e.renderField("pathClear")}),["stop"]))},"pathClear"),Object(i["h"])("form",{onSubmit:t[12]||(t[12]=Object(i["K"])((function(t){return e.saveMap()}),["prevent"]))},[Object(i["J"])(Object(i["h"])("input",{type:"text",required:"","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.mapName=t}),placeholder:"mapName"},null,512),[[i["G"],e.mapName]]),Ce],32)]),Object(i["h"])("div",Ee,[Fe,Object(i["h"])("div",Ie,[(Object(i["v"])(!0),Object(i["g"])(i["a"],null,Object(i["B"])(e.field,(function(t,r){return Object(i["v"])(),Object(i["g"])("div",{key:JSON.stringify(t),style:Object(i["r"])({marginTop:r%2==0?"".concat(20,"px"):"0px"})},[(Object(i["v"])(!0),Object(i["g"])(i["a"],null,Object(i["B"])(t,(function(t,o){return Object(i["v"])(),Object(i["g"])("div",{key:JSON.stringify(t),style:Object(i["r"])({color:null===t||void 0===t?void 0:t.color,fontSize:"".concat(e.hexagonSize,"px")}),class:"hex",id:r+"|"+o,onClick:Object(i["K"])((function(t){return e.openBuildMenu(r,o,t)}),["stop"])},null,12,Re)})),128))],4)})),128))])]),Object(i["h"])("div",null,[(Object(i["v"])(!0),Object(i["g"])(i["a"],null,Object(i["B"])(e.Options,(function(t){return Object(i["v"])(),Object(i["g"])("div",{key:t.type},[e.shopShow?(Object(i["v"])(),Object(i["g"])("div",He,[Object(i["h"])("div",{onClick:Object(i["K"])((function(r){return e.changeHex(e.shopPosition.position[0],e.shopPosition.position[1],t.type)}),["stop"]),style:Object(i["r"])({backgroundColor:t.color})},[Object(i["h"])("div",Be,[Object(i["h"])("div",_e,[Object(i["h"])("div",ze,Object(i["E"])(t.type),1),We])])],12,Ne)])):Object(i["f"])("",!0)])})),128))])])],64)}var Je={id:"nav"},Ve=Object(i["j"])("Game"),Ge=Object(i["j"])(" | "),Ae=Object(i["j"])("MapBuilder");function Le(e,t){var r=Object(i["C"])("router-link");return Object(i["v"])(),Object(i["g"])("div",Je,[Object(i["k"])(r,{to:"/game"},{default:Object(i["I"])((function(){return[Ve]})),_:1}),Ge,Object(i["k"])(r,{to:"/Mapbuilder"},{default:Object(i["I"])((function(){return[Ae]})),_:1})])}const Ue={},qe=a()(Ue,[["render",Le]]);var $e=qe,De=(r("b0c0"),r("e71f")),Ye=r("ea7b");function Xe(e,t){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Object(Ye["b"])(),e.next=3,Object(Ye["d"])(i,t,r);case 3:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}function Ze(e,t){return et.apply(this,arguments)}function et(){return et=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Object(Ye["b"])(),e.next=3,Object(Ye["a"])(i,t,r);case 3:return o=e.sent,e.next=6,Object(De["e"])(Object(De["c"])(Object(De["d"])(),"users",o.user.uid),{email:t});case 6:case"end":return e.stop()}}),e)}))),et.apply(this,arguments)}function tt(e){return rt.apply(this,arguments)}function rt(){return rt=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=null===(r=er.value)||void 0===r?void 0:r.uid,e.next=3,Object(De["a"])(Object(De["b"])(Object(De["d"])(),"maps"),{name:t.name,field:t.field,creator:i});case 3:case"end":return e.stop()}}),e)}))),rt.apply(this,arguments)}var it=Object(i["l"])({components:{Navbar:$e},data:function(){return{mouse:{vector:[0,0]},player:{gold:100},field:[],mapName:"",hexagonSize:50,fieldWidth:30,fieldHeight:15,path:[],pathLength:30,counter:0,generating:!1,shopSize:20,shopShow:!1,shopPosition:{left:0,top:0,position:[0,0]},Options:[{type:"path",color:"#555555"},{type:"water",color:"#0000FF"},{type:"hill",color:"#754c00"},{type:"grass",color:"#008000"}]}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.renderField("clear"),e.counter=0;case 2:case"end":return t.stop()}}),t)})))()},methods:{renderField:function(e){switch(e){case"clear":this.field=[];for(var t=0;t<this.fieldWidth;t++){for(var r=[],i=0;i<this.fieldHeight;i++)r.push({color:"#008000",type:"grass",indices:[t,i]});this.field.push(r)}break;case"pathClear":for(var o=0;o<this.fieldWidth;o++)for(var n=0;n<this.fieldHeight;n++)"path"==this.field[o][n].type&&(this.field[o][n]={indices:[o,n],type:"grass",color:"#008000"});break}},massGenerate:function(){for(var e=0;e<50;e++)this.generatePath("basic",!1)},generatePath:function(e,t){var r=this;return Object(d["a"])(regeneratorRuntime.mark((function i(){var o,n,a,c,s,l,d,u,h,f,p;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:o=[0,r.getRandomInt(r.fieldHeight-1)],r.path=[],r.path.push(r.pathfield(o,!0,!1)),n=[],i.t0=e,i.next="basic"===i.t0?7:"complex"===i.t0?25:46;break;case 7:!1!==t&&r.renderField("pathClear"),r.field[o[0]][o[1]]=r.pathfield(o,!0,!1);case 9:if(!(o[0]<r.fieldWidth-2)){i.next=23;break}i.t1=r.getRandomInt(2),i.next=0===i.t1?13:1===i.t1?16:19;break;case 13:return o[0]%2==0&&o[1]++,o[1]==r.fieldHeight&&o[1]--,i.abrupt("break",19);case 16:return o[0]%2!=0&&o[1]--,o[1]<0&&o[1]++,i.abrupt("break",19);case 19:o[0]++,r.field[o[0]][o[1]]=r.pathfield(o,!1,!1),i.next=9;break;case 23:return r.field[o[0]+1][o[1]]=r.pathfield(o,!1,!0),i.abrupt("break",46);case 25:r.renderField("pathClear"),r.field[o[0]][o[1]]=r.pathfield(o,!0,!1),console.log({field:r.field});case 28:if(!(o[0]<r.fieldWidth-1)){i.next=45;break}a=[],n=r.findNeighbourFields(o[0],o[1],"grass"),console.log({grass:n}),c=Object(ue["a"])(n);try{for(c.s();!(s=c.n()).done;)l=s.value,d=r.getPathIndeces(l),u=r.findNeighbourFields(d[0],d[1],"path"),console.log({cords:d,path:u}),1==u.length&&a.push(l)}catch(b){c.e(b)}finally{c.f()}if(console.log({validPointerNeighbours:a}),0!=a.length){i.next=37;break}return i.abrupt("break",45);case 37:h=r.getRandomInt(a.length-1),f=a[h],p=r.getPathIndeces(f),r.field[p[0]][p[1]]=r.pathfield(p,!1,!1),r.path.push(r.pathfield(p,!1,!1)),o=p,i.next=28;break;case 45:r.path.length<r.pathLength&&r.counter<1e3&&(console.log("newPath"),r.counter++,r.generatePath("complex"));case 46:case"end":return i.stop()}}),i)})))()},applyPath:function(){var e=this;this.path.forEach((function(t){var r=e.pathfield(e.getPathIndeces(t),!0,!1);e.field[e.getPathIndeces(t)[0]][e.getPathIndeces(t)[1]]=r}))},findNeighbourFields:function(e,t,r){var i=[{dir:"up",x:0,y:-1},{dir:"down",x:0,y:1},{dir:"upright",x:1,y:0},{dir:"downright",x:1,y:1},{dir:"upleft",x:-1,y:0},{dir:"downleft",x:-1,y:1}],o=[{dir:"up",x:0,y:-1},{dir:"down",x:0,y:1},{dir:"upright",x:1,y:-1},{dir:"downright",x:1,y:0},{dir:"upleft",x:-1,y:-1},{dir:"downleft",x:-1,y:0}],n=[];n=e%2==0?i:o;var a,c=[],s=Object(ue["a"])(n);try{for(s.s();!(a=s.n()).done;){var l=a.value,d=e+l.x,u=t+l.y;console.log({targetX:d,targetY:u}),d<0||u<0||d>this.fieldWidth-1||u>this.fieldHeight-1||this.field[d][u].type!=r||c.push(this.field[d][u]),console.log({x:e,y:t,neighbour:l})}}catch(h){s.e(h)}finally{s.f()}return c},getPathIndeces:function(e){return null===e||void 0===e?void 0:e.indices},clearPath:function(){this.field.forEach((function(e,t){return e.forEach((function(e,r){"path"==e.type&&(e={indices:[t,r],type:"grass",color:"#008000"})}))}))},openBuildMenu:function(e,t,r){this.shopShow=!0,this.mouse.vector=[r.pageX,r.pageY];var i=this.checkClickedField(e,t),o=document.getElementById("".concat(i[0],"|").concat(i[1])).getBoundingClientRect(),n=this.middlePointRect(o);n[0]-=this.shopSize/2+3,n[1]-=this.hexagonSize-this.shopSize/2-2,this.shopPosition.left=n[0],this.shopPosition.top=n[1],this.shopPosition.position=i},changeHex:function(e,t,r){this.field[e][t].type=r,this.field[e][t].color=this.Options.find((function(e){return e.type==r})).color},checkClickedField:function(e,t){if(this.checkField(e,t))return[e,t];if(e%2!=0){if(this.checkField(e,t-1))return[e,t-1];if(this.checkField(e-1,t-1))return[e-1,t-1]}else{if(this.checkField(e-1,t))return[e-1,t];if(this.checkField(e,t-1))return[e,t-1]}},checkField:function(e,t){if(!(t<0)&&!(e<0)){var r=document.getElementById("".concat(e,"|").concat(t)).getBoundingClientRect();return this.collisionsCheck(this.mouse.vector,this.middlePointRect(r),22,22)?[e,t]:void 0}},saveMap:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var r,i,o,n,a,c,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[],i=Object(ue["a"])(e.field);try{for(i.s();!(o=i.n()).done;){n=o.value,a=Object(ue["a"])(n);try{for(a.s();!(c=a.n()).done;)s=c.value,r.push(s)}catch(d){a.e(d)}finally{a.f()}}}catch(d){i.e(d)}finally{i.f()}return console.log({field:r}),l={name:e.mapName,field:r,creator:""},t.prev=5,t.next=8,tt(l);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](5),e.error("couldn't save map:".concat(t.t0));case 13:case"end":return t.stop()}}),t,null,[[5,10]])})))()},error:function(e){console.error(e)},pathfield:function(e,t,r){return{color:this.Options[0].color,type:"path",indices:e,start:t,finish:r}},middlePointRect:function(e){return[e.left+.5*e.width,e.top+.5*e.height]},percent:function(e,t){return"in"==t?(e+100)/100:"de"==t?e<100?(100-e)/100:0:1},collisionsCheck:function(e,t,r,i){return be(fe(e,t))<r/2+i/2},getRandomInt:function(e){return Math.round(Math.random()*e)}}});r("a2d3");const ot=a()(it,[["render",Ke],["__scopeId","data-v-5c79b623"]]);var nt=ot,at=function(e){return Object(i["y"])("data-v-7d279aa2"),e=e(),Object(i["w"])(),e},ct={class:"container d-flex align-items-stretch justify-content-center flex-column",style:{height:"100vh"}},st={class:"card card-default w-75",style:{"margin-left":"12.5%"}},lt=at((function(){return Object(i["h"])("div",{class:"card-header header"},"Registrierung",-1)})),dt={class:"card-body"},ut={key:0,class:"m-4 alert alert-danger text-center"},ht={class:"p-4 row col-12"},ft={class:"col-6 offset-3"},pt={class:"p-4 row col-12"},bt={class:"col-6 offset-3"},vt={class:"p-4 row col-12"},gt={class:"col-6 offset-3"},jt={key:1,class:"btn btn-success m-4 col-2 text-light",type:"submit"},Ot={key:2,class:"m-4 spinner-border spinner-border-sm text-primary"};function mt(e,t,r,o,n,a){return Object(i["v"])(),Object(i["g"])("div",ct,[Object(i["h"])("div",st,[lt,Object(i["h"])("div",dt,[Object(i["h"])("form",{onSubmit:t[3]||(t[3]=Object(i["K"])((function(t){return e.register()}),["prevent"])),autocomplete:"off"},[e.error?(Object(i["v"])(),Object(i["g"])("div",ut,Object(i["E"])(e.error),1)):Object(i["f"])("",!0),Object(i["h"])("div",ht,[Object(i["h"])("div",ft,[Object(i["J"])(Object(i["h"])("input",{minlength:"3",class:"form-control",id:"email",type:"text",placeholder:"email","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.email=t}),autocomplete:"off"},null,512),[[i["G"],e.email]])])]),Object(i["h"])("div",pt,[Object(i["h"])("div",bt,[Object(i["J"])(Object(i["h"])("input",{minlength:"3",class:"form-control",id:"password",type:"password",placeholder:"passwort","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password=t}),autocomplete:"off"},null,512),[[i["G"],e.password]])])]),Object(i["h"])("div",vt,[Object(i["h"])("div",gt,[Object(i["J"])(Object(i["h"])("input",{minlength:"3",class:"form-control",id:"confirm",type:"password",placeholder:"passwort","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.confirmed=t}),autocomplete:"off"},null,512),[[i["G"],e.confirmed]])])]),e.registering?Object(i["f"])("",!0):(Object(i["v"])(),Object(i["g"])("button",jt,"Registrieren")),e.registering?(Object(i["v"])(),Object(i["g"])("span",Ot)):Object(i["f"])("",!0)],32)])])])}var xt=Object(i["l"])({data:function(){return{confirmed:"",password:"",email:"",error:"",registering:!1}},methods:{register:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.confirmed!==e.password&&(e.error="Die passwörter stimmen nicht überein"),e.registering=!0,t.prev=2,t.next=5,Ze(e.email,e.password);case 5:e.$router.push("/game"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](2),console.log("couldn't register",t.t0),e.error="Der Account konnte leider nicht registriert werden";case 12:return t.prev=12,e.registering=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,8,12,15]])})))()}}});r("5ef0");const yt=a()(xt,[["render",mt],["__scopeId","data-v-7d279aa2"]]);var wt=yt,kt=function(e){return Object(i["y"])("data-v-660cf77d"),e=e(),Object(i["w"])(),e},Pt={class:"container d-flex align-items-stretch justify-content-center flex-column",style:{height:"100vh"}},Mt={class:"card w-75",style:{"margin-left":"12.5%"}},St=kt((function(){return Object(i["h"])("div",{class:"card-header"},"Login",-1)})),Tt={class:"card-body"},Ct={key:0,class:"m-4 alert alert-danger text-center"},Et={class:"p-4 row col-12"},Ft={class:"col-6 offset-3"},It={class:"p-4 row col-12"},Rt={class:"col-6 offset-3"},Ht={key:1,class:"btn btn-success m-4 col-2",type:"submit"},Nt={key:2,class:"m-4 spinner-border spinner-border-sm text-primary"};function Bt(e,t,r,o,n,a){return Object(i["v"])(),Object(i["g"])("div",Pt,[Object(i["h"])("div",Mt,[St,Object(i["h"])("div",Tt,[Object(i["h"])("form",{onSubmit:t[3]||(t[3]=Object(i["K"])((function(t){return e.login()}),["prevent"])),autocomplete:"off"},[e.error?(Object(i["v"])(),Object(i["g"])("div",Ct,"Username or password is not correct")):Object(i["f"])("",!0),Object(i["h"])("div",Et,[Object(i["h"])("div",Ft,[Object(i["J"])(Object(i["h"])("input",{minlength:"3",class:"form-control",id:"email",type:"text",placeholder:"email","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.email=t}),autocomplete:"off"},null,512),[[i["G"],e.email]])])]),Object(i["h"])("div",It,[Object(i["h"])("div",Rt,[Object(i["J"])(Object(i["h"])("input",{minlength:"3",class:"form-control",id:"password",type:"password",placeholder:"passwort","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password=t}),autocomplete:"off"},null,512),[[i["G"],e.password]])])]),e.loggingIn?Object(i["f"])("",!0):(Object(i["v"])(),Object(i["g"])("button",Ht,"Anmelden")),e.loggingIn?(Object(i["v"])(),Object(i["g"])("span",Nt)):Object(i["f"])("",!0),Object(i["h"])("button",{class:"btn btn-info m-4 col-2",type:"button",onClick:t[2]||(t[2]=function(t){return e.register()})},"Registrieren")],32)])])])}var _t=Object(i["l"])({data:function(){return{password:"",email:"",error:!1,loggingIn:!1}},methods:{login:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error=!1,e.loggingIn=!0,t.prev=2,t.next=5,Xe(e.email,e.password);case 5:console.log("logged in with:"+e.email),e.email="",e.password="",e.$router.push("/main"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),console.error({"couldn't login":t.t0});case 14:return t.prev=14,e.password="",e.error=!0,e.loggingIn=!1,t.finish(14);case 19:case"end":return t.stop()}}),t,null,[[2,11,14,19]])})))()},register:function(){this.$router.push("/register")}}});r("505e");const zt=a()(_t,[["render",Bt],["__scopeId","data-v-660cf77d"]]);var Wt=zt,Kt={class:"container d-flex align-items-center",style:{height:"100vh"}},Jt={class:"row col-12 d-flex align-items-center justify-content-around"},Vt=Object(i["h"])("div",null,"MapBuilder",-1),Gt=[Vt],At=Object(i["h"])("div",null,"Game",-1),Lt=[At],Ut=Object(i["h"])("div",null,"Statistics",-1),qt=[Ut];function $t(e,t,r,o,n,a){return Object(i["v"])(),Object(i["g"])("div",Kt,[Object(i["h"])("div",Jt,[Object(i["h"])("div",{class:"col-3 m-3 btn btn-outline cardOption p-0",onClick:t[0]||(t[0]=function(t){return e.openBuilder()})},Gt),Object(i["h"])("div",{class:"col-3 m-3 btn btn-outline cardOption p-0",onClick:t[1]||(t[1]=function(t){return e.openGame()})},Lt),Object(i["h"])("div",{class:"col-3 m-3 btn btn-outline cardOption p-0",onClick:t[2]||(t[2]=function(t){return e.openStats()})},qt)])])}var Dt=Object(i["l"])({data:function(){return{}},methods:{openBuilder:function(){this.$router.push("/Mapbuilder")},openGame:function(){this.$router.push("/Game")},openStats:function(){this.$router.push("/Stats")}}});r("bf04");const Yt=a()(Dt,[["render",$t]]);var Xt=Yt,Qt=[{path:"/",name:"Login",component:Wt},{path:"/register",name:"Register",component:wt},{path:"/main",name:"Main",component:Xt},{path:"/game",name:"Game",component:xe},{path:"/MapBuilder",name:"MapBuilder",component:nt}],Zt=Object(u["a"])({history:Object(u["b"])(),routes:Qt}),er=Object(i["A"])(null),tr=function(){var e=Object(Ye["b"])();return new Promise((function(t,r){var i=Object(Ye["c"])(e,(function(e){er.value=e,i(),t(e)}),r)}))};Zt.beforeEach(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r,i){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.matched.some((function(e){return e.meta.requiresAuth})),e.next=3,tr();case 3:if(e.t0=!e.sent,!e.t0){e.next=6;break}e.t0=o;case 6:if(!e.t0){e.next=10;break}i("/login"),e.next=11;break;case 10:i();case 11:case"end":return e.stop()}}),e)})));return function(t,r,i){return e.apply(this,arguments)}}());var rr=Zt,ir=(r("abe2"),r("ab8b"),r("7b17"),r("7051"),r("260b")),or={apiKey:"AIzaSyDEPp1rKaHb8KgBYiaelwkhViARw9SCymo",authDomain:"towerdefence-c7b47.firebaseapp.com",projectId:"towerdefence-c7b47",storageBucket:"towerdefence-c7b47.appspot.com",messagingSenderId:"688852858765",appId:"1:688852858765:web:e89c44b45973472b34efc4"};Object(ir["a"])(or);Object(i["d"])(l).use(rr).mount("#app")},ceab:function(e,t,r){"use strict";r("a66a")}});
//# sourceMappingURL=app.6d4a4daa.js.map